(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{253:function(e,t,n){},254:function(e,t,n){},259:function(e,t,n){},260:function(e,t,n){},268:function(e,t,n){},269:function(e,t,n){},336:function(e,t,n){},337:function(e,t,n){},338:function(e,t,n){},339:function(e,t,n){},340:function(e,t,n){},341:function(e,t,n){},342:function(e,t,n){},343:function(e,t,n){},344:function(e,t,n){},349:function(e,t,n){},350:function(e,t,n){},351:function(e,t,n){"use strict";n.r(t);var a,c,s,r=n(30),i=n.n(r),o=n(31),l=n(217),u=n(3),j=n(23),d=n.n(j),b=n(220);!function(e){e.ADMIN="admin",e.MANAGER="manager",e.EMPLOYEE="employee"}(a||(a={})),function(e){e.IN_OPERATION="inOperation",e.IN_DOWNTIME="inDowntime",e.IN_ALERT="inAlert"}(c||(c={})),function(e){e.BAR="bar",e.PIE="pie"}(s||(s={}));var h="#E03C31",O="#FFD800",m="#9ACD32",g="#1890FF",p="#EEEEEE",x=function(e){return e?JSON.parse(window.sessionStorage.getItem(e)):null},A=function(e){e&&window.sessionStorage.removeItem(e)},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"open";b.a.hasOwnProperty(t)&&b.a[t](Object(u.a)({message:"",placement:"topRight",duration:0},e))},E=function(e){var t=e.filter((function(e){return e.status===c.IN_OPERATION})),n=e.filter((function(e){return e.status===c.IN_ALERT})),a=e.filter((function(e){return e.status===c.IN_DOWNTIME}));return{inOperation:t.length?t[0]:null,inAlert:n.length?n[0]:null,inDowntime:a.length?a[0]:null}},v=function(e,t,n){return e.filter((function(e){return e[t]===n}))},y={bar:function(e,t,n){return{type:"column",name:e,data:[t.averageHealth],color:n}},pie:function(e,t,n){return{name:e,y:t.total,color:n}}},S={inOperation:function(e,t){return y[t]("In Operation",e,m)},inAlert:function(e,t){return y[t]("In Alert",e,O)},inDowntime:function(e,t){return y[t]("In Downtime",e,g)}},I=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[s.BAR,s.PIE],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=t?Object.keys(t):[],r={title:{text:"".concat(e)},annotations:[],chart:{height:a},credits:{enabled:!1},legend:{enabled:n.length>1&&n.includes(s.BAR)},responsive:{rules:[{condition:{maxHeight:330},chartOptions:{title:{text:""},legend:{enabled:!1}}}]},xAxis:{categories:["Assets average health"]},yAxis:{title:{text:n.includes(s.BAR)?"Health":""}},series:[]};if(n.includes(s.BAR)&&c.forEach((function(e){t[e]&&S.hasOwnProperty(e)&&r.series.push(S[e](t[e],s.BAR))})),n.includes(s.PIE)){var i={type:"pie",name:"Total",data:[],center:n.includes(s.BAR)?[50,80]:["50%","50%"],size:100,showInLegend:!1,dataLabels:{enabled:!1}};c.forEach((function(e){t[e]&&S.hasOwnProperty(e)&&i.data.push(S[e](t[e],s.PIE))})),i.data.length&&(r.series.push(i),r.annotations.push({draggable:"",labels:[{point:n.includes(s.BAR)?{x:70,y:100}:{x:140,y:90},text:"Assets total",x:0,y:-85}]}))}return Object(u.a)({},r)},N="LOGIN",C="LOGOUT",Q={name:null,username:null,email:null,role:null,token:null,company:null},w=function(e){return function(e,t){if(e){var n="string"!==typeof t?JSON.stringify(t):t;window.sessionStorage.setItem(e,n)}}("user",e),{type:N,payload:e}},B=function(){return A("user"),{type:C}},k=Object(l.a)({reducer:{user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:void 0,username:void 0,email:void 0,role:void 0,token:"token",company:void 0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(u.a)({},t.payload);case C:return Object(u.a)({},Q)}return e}}}),R=(n(253),n(0)),P=n.n(R),U=n(72),T=n(33),L=n(6),M=n(356),q=n(362),F=n(360),D=n(174),J=n(115),Y=n(68),z=n(375),K=n(376),H=n(377),G=n(378),V=n(379),Z=n(380),W=n(381),X=(n(254),n(13)),_=n(1),$=Object(o.b)((function(e){return{user:e.user}}))((function(e){var t=e.component,n=e.user,a=Object(X.a)(e,["component","user"]);return n&&n.token?Object(_.jsx)(T.b,Object(u.a)(Object(u.a)({},a),{},{component:t})):Object(_.jsx)(T.a,{to:{pathname:"/login"}})})),ee=n(51),te=n(368),ne=n(218),ae=n(49),ce=n(371),se=(n(259),{logoutConnect:B}),re=Object(o.b)((function(e){return{user:e.user}}),se)((function(e){var t=e.user,n=e.logoutConnect;return Object(_.jsxs)("div",{className:"logout",children:[Object(_.jsx)(ee.a,{placement:"bottom",title:t.email,children:Object(_.jsxs)(te.b,{align:"center",children:[Object(_.jsx)(ne.a,{style:{backgroundColor:"#1890FF"},children:t.name.substring(0,2).toUpperCase()}),t.username]})}),Object(_.jsx)(ee.a,{placement:"bottom",title:"logout",children:Object(_.jsx)(ae.a,{className:"logout-button",shape:"circle",icon:Object(_.jsx)(ce.a,{}),onClick:function(){n()}})})]})})),ie=n(358),oe=n(353),le=n(372),ue=n(373),je=n(223),de=n(105),be=n.n(de),he=(n(260),function(e){var t=e.data,n=e.highcharts,a=e.currentChart,c=e.editRoute,r=void 0===c?"":c,i=e.showChart,o=void 0===i||i,l=e.healthChart,j=void 0!==l&&l,d=e.isLoadingReports,b=void 0!==d&&d,g=e.children,x=e.style,A=Object(R.useState)(s.BAR),f=Object(L.a)(A,2),E=f[0],v=f[1],y=Object(R.useState)({}),S=Object(L.a)(y,2),N=S[0],C=S[1],Q=Object(T.g)();Object(R.useEffect)((function(){C(j?{chart:{type:"solidgauge",height:200},title:{text:""},pane:{center:["50%","85%"],size:"140%",startAngle:-90,endAngle:90,background:{backgroundColor:p,innerRadius:"60%",outerRadius:"100%",shape:"arc"}},credits:{enabled:!1},tooltip:{enabled:!1},yAxis:{stops:[[.1,h],[.5,O],[.85,m]],lineWidth:0,tickWidth:0,minorTickInterval:null,tickAmount:2,title:{text:"Health",y:15},labels:{y:16},min:0,max:100},plotOptions:{solidgauge:{dataLabels:{y:5,borderWidth:0,useHTML:!0}}},series:[{name:"Health",data:[t],dataLabels:{format:'<div style="text-align:center"><span style="font-size:25px">{y}</span><br/><span style="font-size:12px;opacity:0.4">%</span></div>'},tooltip:{valueSuffix:" %"}}]}:I("",t,[E],200))}),[t,E,j]),Object(R.useEffect)((function(){a&&v(a)}),[a]);var w=function(e){v(e)},B=j||!o?[]:[Object(_.jsx)(ee.a,{placement:"top",title:"Average health",children:Object(_.jsx)(le.a,{style:{color:E===s.BAR?"#1890ff":"rgba(0, 0, 0, 0.45)"},onClick:function(){return w(s.BAR)}})},"assetsHealth"),Object(_.jsx)(ee.a,{placement:"top",title:"Assets total",children:Object(_.jsx)(ue.a,{style:{color:E===s.PIE?"#1890ff":"rgba(0, 0, 0, 0.45)"},onClick:function(){return w(s.PIE)}})},"totalAssets")];return r&&B.push(Object(_.jsx)(ee.a,{placement:"top",title:"Edit",children:Object(_.jsx)(je.a,{onClick:function(){return Q.push(r)}})},"edit")),Object(_.jsx)(ie.a,{style:Object(u.a)({width:300,margin:"10px"},x),className:"card-with-chart",cover:o&&Object(_.jsx)(oe.a,{spinning:b,delay:500,children:Object(_.jsx)(be.a,{highcharts:n,options:N})}),actions:B,children:g})}),Oe=n(364),me=n(361),ge=n(363),pe=n(354),xe=n(222),Ae=n(36),fe=n.n(Ae),Ee=n(202),ve=n.n(Ee),ye=n(203),Se=n.n(ye),Ie=n(204),Ne=n.n(Ie),Ce=n(169),Qe=n.n(Ce),we=n(205),Be=n.n(we),ke=n(170),Re=n.n(ke),Pe=n(206),Ue=n.n(Pe),Te=n(150),Le=n.n(Te);n(268);ve()(fe.a),Ne()(fe.a),Se()(fe.a),Qe()(fe.a),Be()(fe.a),Re()(fe.a),Ue()(fe.a);var Me,qe=function(e){var t=e.name,n=e.summaryData,a=e.currentPage,c=e.pageSize,r=e.pageTotal,i=e.isLoadingContent,o=e.isLoadingSummary,l=e.showSummaryChart,u=void 0===l||l,j=e.onChangePage,d=e.onChangeCurrentChart,b=void 0===d?void 0:d,h=e.showChartSelectors,O=void 0===h||h,m=e.addRoute,g=e.dividerText,p=e.children,x=Object(R.useState)(s.BAR),A=Object(L.a)(x,2),f=A[0],E=A[1],v=Object(R.useState)(),y=Object(L.a)(v,2),S=y[0],N=y[1],C=Le()(t),Q=Object(T.g)();Object(R.useEffect)((function(){n&&N(I("Assets health and status summary",n))}),[n]);var w=Object(_.jsxs)(J.a,{justify:"space-between",align:"middle",children:[Object(_.jsx)(Y.a,{children:O&&Object(_.jsxs)(Oe.a.Group,{value:f,onChange:function(e){var t=e.target.value;E(t),b&&b(t)},children:[Object(_.jsx)(ee.a,{placement:"bottom",title:"Average Health",children:Object(_.jsx)(Oe.a.Button,{value:s.BAR,children:Object(_.jsx)(le.a,{})})}),Object(_.jsx)(ee.a,{placement:"bottom",title:"Assets total",children:Object(_.jsx)(Oe.a.Button,{value:s.PIE,children:Object(_.jsx)(ue.a,{})})})]})}),Object(_.jsx)(Y.a,{children:Object(_.jsx)(me.a,{current:a,onChange:function(e,t){return j(e,t)},pageSize:c,showSizeChanger:!1,total:r})})]});return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ge.a,{backIcon:!1,className:"page-header",title:C,subTitle:"view",extra:m?[Object(_.jsxs)(ae.a,{onClick:function(){return Q.push(m)},icon:Object(_.jsx)(xe.a,{}),type:"primary",children:["New ",t]},"new")]:[]}),u&&Object(_.jsx)(J.a,{justify:"center",align:"middle",children:Object(_.jsx)(Y.a,{lg:{span:24},xl:{span:18},children:Object(_.jsx)(oe.a,{size:"large",spinning:o,delay:500,children:Object(_.jsx)(be.a,{highcharts:fe.a,options:S})})})}),Object(_.jsx)(pe.a,{children:g||"".concat(C," list")}),Object(_.jsx)(oe.a,{size:"large",spinning:i,delay:500,children:p?Object(_.jsxs)(_.Fragment,{children:[w,Object(_.jsx)("br",{}),Object(_.jsx)("div",{className:"flex-container",children:p}),Object(_.jsx)("br",{}),w]}):Object(_.jsx)("div",{className:"text-center",children:Object(_.jsx)("h3",{children:"No data to display"})})})]})},Fe=n(369),De=n(355),Je=n(359),Ye=n(374),ze=n(224),Ke=(n(269),function(e){var t=e.form,n=e.name,a=e.isNew,c=e.isLoading,s=e.onAddNew,r=e.onUpdate,i=e.onGoBack,o=e.onDelete,l=e.children,u=Le()(n);return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ge.a,{onBack:function(){return i()},className:"page-header",title:u,subTitle:"form",tags:Object(_.jsx)(Fe.a,{icon:a?Object(_.jsx)(Ye.a,{}):Object(_.jsx)(je.a,{}),color:"processing",children:a?"Adding":"Editing"}),extra:!a&&o?[Object(_.jsx)(De.a,{placement:"left",title:"Are you sure to delete this?",onConfirm:function(){return o()},okText:"Yes, delete ".concat(n),cancelText:"No",children:Object(_.jsx)(J.a,{justify:"end",children:Object(_.jsx)(Y.a,{children:Object(_.jsx)(ae.a,{danger:!0,icon:Object(_.jsx)(ze.a,{})})})})},"remove")]:[]}),Object(_.jsx)(oe.a,{spinning:c,delay:500,children:Object(_.jsx)(Je.a,{labelCol:{span:4},name:n,layout:"horizontal",requiredMark:!1,onFinish:function(e){a?s(e):r(e)},scrollToFirstError:!0,size:"large",form:t,children:l})})]})}),He=[{icon:Object(_.jsx)(z.a,{}),path:"/dashboard",label:"Dashboard"},{icon:Object(_.jsx)(K.a,{}),path:"/companies",label:"Companies",blackList:[a.EMPLOYEE]},{icon:Object(_.jsx)(H.a,{}),path:"/units",label:"Units",blackList:[a.EMPLOYEE]},{icon:Object(_.jsx)(G.a,{}),path:"/users",label:"Users",blackList:[a.EMPLOYEE]},{icon:Object(_.jsx)(V.a,{}),path:"/assets",label:"Assets"}],Ge=Object(o.b)((function(e){return{user:e.user}}))((function(e){var t=e.user,n=Object(R.useState)(!1),c=Object(L.a)(n,2),s=c[0],r=c[1],i=M.a.Header,o=M.a.Sider,l=M.a.Content,u=q.a.Title;P.a.useEffect((function(){}),[]);return Object(_.jsxs)(M.a,{className:"layout",children:[Object(_.jsxs)(o,{breakpoint:"sm",trigger:null,collapsible:!0,collapsed:s,children:[Object(_.jsx)("div",{className:"logo-wrapper text-center",children:Object(_.jsx)(F.a,{className:"logo",preview:!1,src:"/logo192.png",alt:"challenge logo"})}),Object(_.jsx)(D.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["/".concat(window.location.pathname.split("/")[1])],children:He.map((function(e){return!e.icon||e.blackList&&e.blackList.includes(t.role)?null:Object(_.jsx)(D.a.Item,{icon:e.icon,children:Object(_.jsx)(U.b,{to:e.path,children:Object(_.jsx)("span",{children:e.label})})},e.path)}))})]}),Object(_.jsxs)(M.a,{className:"site-layout",children:[Object(_.jsx)(i,{className:"header site-layout-background",style:{padding:0},children:Object(_.jsxs)(J.a,{justify:"space-around",align:"middle",children:[Object(_.jsx)(Y.a,{span:8,children:P.a.createElement(s?Z.a:W.a,{className:"trigger",onClick:function(){r(!s)}})}),Object(_.jsx)(Y.a,{span:8,children:Object(_.jsx)("div",{className:"brand",children:Object(_.jsx)(u,{level:3,children:"CHALLENGE"})})}),Object(_.jsx)(Y.a,{span:8,children:Object(_.jsx)(re,{})})]})}),Object(_.jsx)(l,{className:"site-layout-background",style:{margin:"24px 16px",padding:24,height:"calc(100vh - 64px)",overflow:"auto"},children:Object(_.jsxs)(T.d,{children:[Object(_.jsx)($,{path:"/challenge/dashboard",component:dt}),Object(_.jsx)($,{exact:!0,path:"/challenge/assets",component:It}),Object(_.jsx)($,{path:"/challenge/assets/:id",component:Rt}),t.role!==a.EMPLOYEE&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)($,{exact:!0,path:"/challenge/companies",component:bt}),Object(_.jsx)($,{path:"/challenge/companies/:id",component:xt}),Object(_.jsx)($,{exact:!0,path:"/challenge/units",component:At}),Object(_.jsx)($,{path:"/challenge/units/:id",component:ft}),Object(_.jsx)($,{exact:!0,path:"/challenge/users",component:vt}),Object(_.jsx)($,{path:"/challenge/users/:id",component:St})]})]})})]})]})})),Ve=n(367),Ze=n(365),We=n(382),Xe=n(383),_e=(n(336),"get"),$e="post",et="api",tt="v1",nt={COMPANIES:"/".concat(et,"/").concat(tt,"/companies"),UNITS:"/".concat(et,"/").concat(tt,"/units"),USERS:"/".concat(et,"/").concat(tt,"/users"),ASSETS:"/".concat(et,"/").concat(tt,"/assets"),REPORTS:"/".concat(et,"/").concat(tt,"/reports")},at=function(e,t){return{url:"/login",method:$e,data:{username:e,password:t}}},ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["status"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="",a="";e.forEach((function(e){n=n.concat("groupField[]=".concat(e,"&"))})),Object.entries(t).forEach((function(e){a=a.concat("".concat(e[0],"=").concat(e[1],"&"))}));var c=nt.REPORTS;return n&&a?c="".concat(c,"?").concat(n,"&").concat(a):n?c="".concat(c,"?").concat(n):a&&(c="".concat(c,"?").concat(a)),{url:c,method:_e}},st=function(e,t,n,a){var c=a?"".concat(e,"/").concat(a):e;return void 0!==t&&null!==t&&void 0!==n&&null!==n?c="".concat(c,"?page=").concat(t,"&size=").concat(n):void 0!==t&&null!==t?c="".concat(c,"?page=").concat(t):void 0!==n&&null!==n&&(c="".concat(c,"?size=").concat(n)),{url:c,method:_e}},rt=function(e,t){return{url:e,method:"put",data:t}},it=function(e,t,n){return{url:n?"".concat(e,"/").concat(n):e,method:$e,data:t}},ot=function(e,t){return{url:t?"".concat(e,"/").concat(t):e,method:"delete"}},lt={loginConnect:w},ut=Object(o.b)((function(e){return{user:e.user}}),lt)((function(e){var t=e.user,n=e.loginConnect,a=Object(R.useState)(!1),c=Object(L.a)(a,2),s=c[0],r=c[1],i=Object(R.useState)({type:void 0,msg:void 0}),o=Object(L.a)(i,2),l=o[0],u=o[1],j=Je.a.useForm(),b=Object(L.a)(j,1)[0],h=Object(T.g)(),O=q.a.Title;Object(R.useEffect)((function(){t&&t.token&&h.push("/dashboard")}));return Object(_.jsx)("div",{className:"card-wrapper text-center",children:Object(_.jsxs)(ie.a,{className:"card",children:[l.type&&l.msg&&Object(_.jsx)(Ve.a,{message:l.msg,type:l.type,showIcon:!0,closable:!0}),Object(_.jsxs)("div",{className:"form-wrapper",children:[Object(_.jsxs)("div",{children:[Object(_.jsx)(F.a,{preview:!1,width:"50%",src:"/logo192.png",alt:"challenge logo"}),Object(_.jsx)(O,{level:2,children:"CHALLENGE"})]}),Object(_.jsxs)(Je.a,{name:"login",layout:"vertical",requiredMark:!1,onFinish:function(e){r(!0),d.a.request(at(e.username,e.password)).then((function(e){if(e&&200===e.status){var t=e.data;n(t),r(!1),h.push("/dashboard")}})).catch((function(e){var t="".concat(e);e.response&&(t=401===e.response.status?"username or password incorrect":e.response.data),r(!1),u({type:"error",msg:t})}))},scrollToFirstError:!0,size:"large",form:b,children:[Object(_.jsx)(Je.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(_.jsx)(Ze.a,{disabled:s,prefix:Object(_.jsx)(We.a,{className:"site-form-item-icon"}),placeholder:"Username or E-mail"})}),Object(_.jsx)(Je.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(_.jsx)(Ze.a.Password,{disabled:s,prefix:Object(_.jsx)(Xe.a,{className:"site-form-item-icon"}),placeholder:"Password"})}),Object(_.jsx)(Je.a.Item,{shouldUpdate:!0,children:function(){return Object(_.jsx)(ae.a,{type:"primary",htmlType:"submit",loading:s,disabled:!b.isFieldsTouched(!0)||!!b.getFieldsError().filter((function(e){return e.errors.length})).length,children:"Login"})}})]})]})]})})})),jt=n(7),dt=(n(337),Object(o.b)((function(e){return{user:e.user}}))((function(e){var t=e.user,n=Object(R.useState)({}),c=Object(L.a)(n,2),s=c[0],r=c[1],i=Object(R.useState)(!0),o=Object(L.a)(i,2),l=o[0],j=o[1],b=function(){return t.role===a.ADMIN?["company","unit"]:t.role===a.MANAGER?["unit","user"]:["unit"]},h=function(e,t,n){var a=[],c=[];e.forEach((function(e){var s="".concat(n," ").concat(e[n]);a.push({name:s,y:e.averageHealth,drilldown:s});var r=E(v(t,n,e[n]));c.push({name:s,id:s,data:[r.inOperation?["In Operation",r.inOperation.averageHealth]:[],r.inAlert?["In Alert",r.inAlert.averageHealth]:[],r.inDowntime?["In Downtime",r.inDowntime.averageHealth]:[]]})})),r(Object(jt.a)({},n,function(e,t,n){var a={chart:{type:"pie"},title:{text:"Assets average health by ".concat(n)},subtitle:{text:"Click the slices for more details"},accessibility:{announceNewData:{enabled:!0},point:{valueSuffix:"%"}},credits:{enabled:!1},plotOptions:{series:{dataLabels:{enabled:!0,format:"{point.name}: {point.y:.1f}%"}}},tooltip:{headerFormat:'<span style="font-size:11px">{series.name}</span><br>',pointFormat:'<span style="color:{point.color}">{point.name}</span>: Average Health in <b>{point.y:.2f}%</b> <br/>',useHTML:!0},series:[{name:"Average health",colorByPoint:!0,data:e}],drilldown:{series:t}};return Object(u.a)({},a)}(a,c,n))),j(!1)};return Object(R.useEffect)((function(){b().forEach((function(e){var t;t=e,j(!0),d.a.request(ct([t])).then((function(e){e&&200===e.status&&d.a.request(ct([t,"status"])).then((function(n){n&&200===n.status&&h(e.data,n.data,t)})).catch((function(e){f({message:"".concat(e)},"error"),j(!1)}))})).catch((function(e){f({message:"".concat(e)},"error"),j(!1)}))}))}),[]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ge.a,{backIcon:!1,className:"page-header",title:"Dashboard",subTitle:"Summaries",extra:[]}),Object(_.jsx)(pe.a,{}),Object(_.jsx)("div",{className:"dashboard-wrapper",children:b().map((function(e){return Object(_.jsx)("div",{className:"chart-wrapper",children:Object(_.jsx)(oe.a,{spinning:l,size:"large",children:Object(_.jsx)(be.a,{highcharts:fe.a,options:s[e]?s[e]:{}})})},e)}))})]})}))),bt=(n(338),Object(o.b)((function(e){return{user:e.user}}))((function(e){var t=e.user,n=Object(R.useState)(s.BAR),c=Object(L.a)(n,2),r=c[0],i=c[1],o=Object(R.useState)(!0),l=Object(L.a)(o,2),j=l[0],b=l[1],h=Object(R.useState)(!0),O=Object(L.a)(h,2),m=O[0],g=O[1],p=Object(R.useState)(!0),x=Object(L.a)(p,2),A=x[0],y=x[1],S=Object(R.useState)(1),I=Object(L.a)(S,2),N=I[0],C=I[1],Q=Object(R.useState)(10),w=Object(L.a)(Q,1)[0],B=Object(R.useState)({}),k=Object(L.a)(B,2),P=k[0],U=k[1],T=Object(R.useState)(),M=Object(L.a)(T,2),q=M[0],F=M[1],D=Object(R.useState)([]),z=Object(L.a)(D,2),K=z[0],H=z[1],G=function(e,t){b(!0),P[e]?(C(e),b(!1)):d.a.request(st(nt.COMPANIES,e-1,t)).then((function(t){t&&200===t.status&&(U(Object(u.a)(Object(u.a)({},P),{},Object(jt.a)({},e,t.data))),C(e),b(!1))})).catch((function(e){f({message:"".concat(e)},"error"),b(!1)}))};return Object(R.useEffect)((function(){G(N,w),y(!0),d.a.request(ct()).then((function(e){e&&200===e.status&&(F(E(e.data)),y(!1))})).catch((function(e){f({message:"".concat(e)},"error"),y(!1)})),g(!0),d.a.request(ct(["status","company"])).then((function(e){e&&200===e.status&&(H(e.data),g(!1))})).catch((function(e){f({message:"".concat(e)},"error"),g(!1)}))}),[]),Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(qe,{name:"Company",summaryData:q,currentPage:N,pageSize:w,pageTotal:P[N]?P[N].total:void 0,isLoadingContent:j,isLoadingSummary:A,onChangePage:function(e,t){G(e,t)},onChangeCurrentChart:function(e){i(e)},addRoute:t.role===a.ADMIN?"/companies/new":"",children:P[N]?P[N].content.map((function(e){return Object(_.jsx)(he,{highcharts:fe.a,isLoadingReports:m,editRoute:"/companies/".concat(e.id),data:E(v(K,"company",e.id)),currentChart:r,children:Object(_.jsxs)(J.a,{children:[Object(_.jsx)(Y.a,{span:20,children:Object(_.jsx)(ie.a.Meta,{title:e.name,description:e.cnpj})}),Object(_.jsx)(Y.a,{span:4,children:Object(_.jsx)("div",{className:"text-end",children:Object(_.jsx)(Fe.a,{color:e.active?"success":"error",children:e.active?"active":"inactive"})})})]})},e.id)})):null})})}))),ht=n(370),Ot=n(111),mt=n(50),gt=n(384),pt=n(385),xt=(n(339),function(){var e=Je.a.useForm(),t=Object(L.a)(e,1)[0],n=Object(T.g)(),a=Object(T.h)().id,c=Object(R.useState)(!0),s=Object(L.a)(c,2),r=s[0],i=s[1],o=Object(R.useState)(!1),l=Object(L.a)(o,2),u=l[0],j=l[1],b=Object(R.useState)(!1),h=Object(L.a)(b,2),O=h[0],m=h[1],g=Object(R.useState)({name:"",description:"",cnpj:"",active:!0}),p=Object(L.a)(g,2),x=p[0],A=p[1];Object(R.useEffect)((function(){i(!0),d.a.request(st(nt.COMPANIES,void 0,void 0,a)).then((function(e){if(e&&200===e.status){var n=e.data;n&&Object.keys(n).length?(m(!1),A(e.data),t.resetFields()):m(!0)}i(!1)})).catch((function(){m(!0),i(!1)}))}),[t,a]);var E=function(){return n.push("/companies")};return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(Ke,{form:t,name:"Company",isNew:O,isLoading:r,onAddNew:function(e){j(!0),d.a.request(rt(nt.COMPANIES,e)).then((function(e){e&&201===e.status&&(j(!1),f({message:"Company Created!",duration:5},"success"),E())})).catch((function(e){j(!1),f({message:"".concat(e)},"error")}))},onUpdate:function(e){j(!0),d.a.request(it(nt.COMPANIES,e,a)).then((function(e){e&&200===e.status&&(j(!1),f({message:"Company Updated!",duration:5},"success"),E())})).catch((function(e){j(!1),f({message:"".concat(e)},"error")}))},onDelete:function(){d.a.request(ot(nt.COMPANIES,a)).then((function(e){e&&200===e.status&&(j(!1),f({message:"Company deleted!",duration:5},"info"),E())})).catch((function(e){j(!1),f({message:"".concat(e)},"error")}))},onGoBack:E,children:[Object(_.jsx)(J.a,{children:Object(_.jsx)(Y.a,{span:12,children:Object(_.jsx)(Je.a.Item,{label:"Name",name:"name",initialValue:x.name,rules:[{required:!0,message:"Please input Company name!"}],children:Object(_.jsx)(Ze.a,{disabled:u})})})}),Object(_.jsx)(J.a,{children:Object(_.jsx)(Y.a,{span:12,children:Object(_.jsx)(Je.a.Item,{label:"Description",name:"description",initialValue:x.description,required:!1,children:Object(_.jsx)(Ze.a,{disabled:u})})})}),Object(_.jsxs)(J.a,{children:[Object(_.jsx)(Y.a,{span:12,children:Object(_.jsx)(Je.a.Item,{label:"CNPJ",name:"cnpj",initialValue:x.cnpj,rules:[{required:!0,message:"Please input Company CNPJ!"}],children:Object(_.jsx)(Ze.a,{disabled:u})})}),Object(_.jsx)(Y.a,{span:12,children:Object(_.jsx)(Je.a.Item,{initialValue:x.active,name:"active",label:"Active",valuePropName:"checked",children:Object(_.jsx)(ht.a,{checkedChildren:Object(_.jsx)(Ot.a,{}),unCheckedChildren:Object(_.jsx)(mt.a,{})})})})]}),Object(_.jsx)(Je.a.Item,{shouldUpdate:!0,children:function(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(J.a,{justify:"end",children:Object(_.jsxs)(te.b,{children:[Object(_.jsx)(Y.a,{children:Object(_.jsx)(ae.a,{type:"primary",icon:Object(_.jsx)(gt.a,{}),htmlType:"submit",loading:u,children:"Save"})}),Object(_.jsx)(Y.a,{children:Object(_.jsx)(De.a,{placement:"top",title:"Are you sure to cancel this?",onConfirm:E,okText:"Yes, cancel",cancelText:"No",children:Object(_.jsx)(ae.a,{danger:!0,icon:Object(_.jsx)(pt.a,{}),htmlType:"button",loading:u,children:"Cancel"})})})]})})})}})]})})}),At=(n(340),Object(o.b)((function(e){return{user:e.user}}))((function(e){var t=e.user,n=Object(R.useState)(s.BAR),c=Object(L.a)(n,2),r=c[0],i=c[1],o=Object(R.useState)(!0),l=Object(L.a)(o,2),j=l[0],b=l[1],h=Object(R.useState)(!0),O=Object(L.a)(h,2),m=O[0],g=O[1],p=Object(R.useState)(!0),x=Object(L.a)(p,2),A=x[0],y=x[1],S=Object(R.useState)(1),I=Object(L.a)(S,2),N=I[0],C=I[1],Q=Object(R.useState)(10),w=Object(L.a)(Q,1)[0],B=Object(R.useState)({}),k=Object(L.a)(B,2),P=k[0],U=k[1],T=Object(R.useState)(),M=Object(L.a)(T,2),q=M[0],F=M[1],D=Object(R.useState)([]),z=Object(L.a)(D,2),K=z[0],H=z[1],G=function(e,t){b(!0),P[e]?(C(e),b(!1)):d.a.request(st(nt.UNITS,e-1,t)).then((function(t){t&&200===t.status&&(U(Object(u.a)(Object(u.a)({},P),{},Object(jt.a)({},e,t.data))),C(e),b(!1))})).catch((function(e){f({message:"".concat(e)},"error"),b(!1)}))};return Object(R.useEffect)((function(){G(N,w),y(!0),d.a.request(ct()).then((function(e){e&&200===e.status&&(F(E(e.data)),y(!1))})).catch((function(e){f({message:"".concat(e)},"error"),y(!1)})),g(!0),d.a.request(ct(["status","unit"])).then((function(e){e&&200===e.status&&(H(e.data),g(!1))})).catch((function(e){f({message:"".concat(e)},"error"),g(!1)}))}),[]),Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(qe,{name:"Unit",summaryData:q,currentPage:N,pageSize:w,pageTotal:P[N]?P[N].total:void 0,isLoadingContent:j,isLoadingSummary:A,onChangePage:function(e,t){G(e,t)},onChangeCurrentChart:function(e){i(e)},addRoute:t.role===a.EMPLOYEE?"":"/units/new",children:P[N]?P[N].content.map((function(e){return Object(_.jsx)(he,{highcharts:fe.a,isLoadingReports:m,editRoute:t.role===a.EMPLOYEE?"":"/units/".concat(e.id),data:E(v(K,"unit",e.id)),currentChart:r,children:Object(_.jsx)(J.a,{justify:"center",children:Object(_.jsx)(Y.a,{span:20,children:Object(_.jsx)(ie.a.Meta,{title:e.name,description:"From company ".concat(e.company)})})})},e.id)})):null})})}))),ft=(n(341),Object(o.b)((function(e){return{user:e.user}}))((function(e){var t=e.user,n=Je.a.useForm(),c=Object(L.a)(n,1)[0],s=Object(T.g)(),r=Object(T.h)().id,i=Object(R.useState)(!0),o=Object(L.a)(i,2),l=o[0],u=o[1],j=Object(R.useState)(!1),b=Object(L.a)(j,2),h=b[0],O=b[1],m=Object(R.useState)(!1),g=Object(L.a)(m,2),p=g[0],x=g[1],A=Object(R.useState)({name:"",company:t.role===a.ADMIN?void 0:t.company}),E=Object(L.a)(A,2),v=E[0],y=E[1];Object(R.useEffect)((function(){u(!0),d.a.request(st(nt.UNITS,void 0,void 0,r)).then((function(e){if(e&&200===e.status){var t=e.data;t&&Object.keys(t).length?(x(!1),y(e.data),c.resetFields()):x(!0)}u(!1)})).catch((function(){x(!0),u(!1)}))}),[c,r]);var S=function(){return s.push("/units")};return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(Ke,{form:c,name:"Unit",isNew:p,isLoading:l,onAddNew:function(e){O(!0),d.a.request(rt(nt.UNITS,e)).then((function(e){e&&201===e.status&&(O(!1),f({message:"Unit Created!",duration:5},"success"),S())})).catch((function(e){O(!1),f({message:"".concat(e)},"error")}))},onUpdate:function(e){O(!0),d.a.request(it(nt.UNITS,e,r)).then((function(e){e&&200===e.status&&(O(!1),f({message:"Unit Updated!",duration:5},"success"),S())})).catch((function(e){O(!1),f({message:"".concat(e)},"error")}))},onDelete:function(){d.a.request(ot(nt.UNITS,r)).then((function(e){e&&200===e.status&&(O(!1),f({message:"Unit deleted!",duration:5},"info"),S())})).catch((function(e){O(!1),f({message:"".concat(e)},"error")}))},onGoBack:S,children:[Object(_.jsx)(J.a,{children:Object(_.jsx)(Y.a,{span:12,children:Object(_.jsx)(Je.a.Item,{label:"Name",name:"name",initialValue:v.name,rules:[{required:!0,message:"Please input Unit name!"}],children:Object(_.jsx)(Ze.a,{disabled:h})})})}),Object(_.jsx)(J.a,{children:Object(_.jsx)(Y.a,{span:12,children:Object(_.jsx)(Je.a.Item,{label:"Company",name:"company",initialValue:v.company,rules:[{required:!0,type:"number",min:0,message:"Please input Unit Company!"}],children:Object(_.jsx)(Ze.a,{type:"number",min:1,disabled:h||t.role!==a.ADMIN})})})}),Object(_.jsx)(Je.a.Item,{shouldUpdate:!0,children:function(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(J.a,{justify:"end",children:Object(_.jsxs)(te.b,{children:[Object(_.jsx)(Y.a,{children:Object(_.jsx)(ae.a,{type:"primary",icon:Object(_.jsx)(gt.a,{}),htmlType:"submit",loading:h,children:"Save"})}),Object(_.jsx)(Y.a,{children:Object(_.jsx)(De.a,{placement:"top",title:"Are you sure to cancel this?",onConfirm:S,okText:"Yes, cancel",cancelText:"No",children:Object(_.jsx)(ae.a,{danger:!0,icon:Object(_.jsx)(pt.a,{}),htmlType:"button",loading:h,children:"Cancel"})})})]})})})}})]})})}))),Et=n(366),vt=(n(342),Object(o.b)((function(e){return{user:e.user}}))((function(e){var t=e.user,n=Object(R.useState)(!0),c=Object(L.a)(n,2),s=c[0],r=c[1],i=Object(R.useState)(1),o=Object(L.a)(i,2),l=o[0],j=o[1],b=Object(R.useState)(20),h=Object(L.a)(b,1)[0],O=Object(R.useState)({}),m=Object(L.a)(O,2),g=m[0],p=m[1],x=function(e,t){r(!0),g[e]?(j(e),r(!1)):d.a.request(st(nt.USERS,e-1,t)).then((function(t){t&&200===t.status&&(p(Object(u.a)(Object(u.a)({},g),{},Object(jt.a)({},e,t.data))),j(e),r(!1))})).catch((function(e){f({message:"".concat(e)},"error"),r(!1)}))},A={admin:"purple",manager:"blue",employee:"green"};return Object(R.useEffect)((function(){x(l,h)}),[]),Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(qe,{name:"User",showSummaryChart:!1,showChartSelectors:!1,currentPage:l,pageSize:h,pageTotal:g[l]?g[l].total:void 0,isLoadingContent:s,onChangePage:function(e,t){x(e,t)},addRoute:t.role===a.EMPLOYEE?"":"/users/new",children:g[l]?g[l].content.map((function(e){return Object(_.jsx)(Et.a.Ribbon,{color:A[e.role]?A[e.role]:"red",text:e.role,children:Object(_.jsx)(he,{style:{margin:0},showChart:!1,editRoute:t.role===a.EMPLOYEE?"":"/users/".concat(e.id),children:Object(_.jsx)(ie.a.Meta,{avatar:Object(_.jsx)(ne.a,{children:e.name.substring(0,2).toUpperCase()}),title:e.name,description:e.username})})},e.id)})):null})})}))),yt=n(126),St=(n(343),Object(o.b)((function(e){return{user:e.user}}))((function(e){var t=Je.a.useForm(),n=Object(L.a)(t,1)[0],c=Object(T.g)(),s=Object(T.h)().id,r=Object(R.useState)(!0),i=Object(L.a)(r,2),o=i[0],l=i[1],u=Object(R.useState)(!1),j=Object(L.a)(u,2),b=j[0],h=j[1],O=Object(R.useState)(!1),m=Object(L.a)(O,2),g=m[0],p=m[1],x=Object(R.useState)({name:"",username:"",email:"",role:a.EMPLOYEE,company:e.user.role===a.ADMIN?void 0:e.user.company}),A=Object(L.a)(x,2),E=A[0],v=A[1];Object(R.useEffect)((function(){l(!0),d.a.request(st(nt.USERS,void 0,void 0,s)).then((function(e){if(e&&200===e.status){var t=e.data;t&&Object.keys(t).length?(p(!1),v(e.data),n.resetFields()):p(!0)}l(!1)})).catch((function(){p(!0),l(!1)}))}),[n,s]);var y=function(){return c.push("/users")};return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(Ke,{form:n,name:"User",isNew:g,isLoading:o,onAddNew:function(e){h(!0),d.a.request(rt(nt.USERS,e)).then((function(e){e&&201===e.status&&(h(!1),f({message:"User Created!",duration:5},"success"),y())})).catch((function(e){h(!1),f({message:"".concat(e)},"error")}))},onUpdate:function(e){h(!0),d.a.request(it(nt.USERS,e,s)).then((function(e){e&&200===e.status&&(h(!1),f({message:"User Updated!",duration:5},"success"),y())})).catch((function(e){h(!1),f({message:"".concat(e)},"error")}))},onDelete:function(){d.a.request(ot(nt.USERS,s)).then((function(e){e&&200===e.status&&(h(!1),f({message:"User deleted!",duration:5},"info"),y())})).catch((function(e){h(!1),f({message:"".concat(e)},"error")}))},onGoBack:y,children:[Object(_.jsx)(J.a,{children:Object(_.jsx)(Y.a,{span:12,children:Object(_.jsx)(Je.a.Item,{label:"Name",name:"name",initialValue:E.name,rules:[{required:!0,message:"Please input User name!"}],children:Object(_.jsx)(Ze.a,{disabled:b})})})}),Object(_.jsx)(J.a,{children:Object(_.jsx)(Y.a,{span:12,children:Object(_.jsx)(Je.a.Item,{label:"E-mail",name:"email",initialValue:E.username,rules:[{required:!0,type:"email",message:"Please input valid User E-mail!"}],children:Object(_.jsx)(Ze.a,{disabled:b})})})}),Object(_.jsx)(J.a,{children:Object(_.jsx)(Y.a,{span:12,children:Object(_.jsx)(Je.a.Item,{initialValue:E.role,name:"role",label:"Role",rules:[{required:!0,message:"Please select User role!"}],children:Object(_.jsxs)(yt.a,{value:E.role,disabled:b,children:[e.user.role===a.ADMIN&&Object(_.jsx)(yt.a.Option,{value:a.ADMIN,children:"Admin"}),Object(_.jsx)(yt.a.Option,{value:a.MANAGER,children:"Manager"}),Object(_.jsx)(yt.a.Option,{value:a.EMPLOYEE,children:"Employee"})]})})})}),Object(_.jsx)(J.a,{children:Object(_.jsx)(Y.a,{span:12,children:Object(_.jsx)(Je.a.Item,{label:"Username",name:"username",initialValue:E.username,rules:[{required:!0,message:"Please input User username!"}],children:Object(_.jsx)(Ze.a,{disabled:b})})})}),g&&Object(_.jsx)(J.a,{children:Object(_.jsx)(Y.a,{span:12,children:Object(_.jsx)(Je.a.Item,{label:"Password",name:"password",initialValue:E.password,rules:[{required:!0,message:"Please input User password!"}],children:Object(_.jsx)(Ze.a.Password,{disabled:b})})})}),Object(_.jsx)(J.a,{children:Object(_.jsx)(Y.a,{span:12,children:Object(_.jsx)(Je.a.Item,{label:"Company",name:"company",initialValue:E.company,required:!1,children:Object(_.jsx)(Ze.a,{type:"number",min:1,disabled:b||e.user.role!==a.ADMIN})})})}),Object(_.jsx)(Je.a.Item,{shouldUpdate:!0,children:function(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(J.a,{justify:"end",children:Object(_.jsxs)(te.b,{children:[Object(_.jsx)(Y.a,{children:Object(_.jsx)(ae.a,{type:"primary",icon:Object(_.jsx)(gt.a,{}),htmlType:"submit",loading:b,children:"Save"})}),Object(_.jsx)(Y.a,{children:Object(_.jsx)(De.a,{placement:"top",title:"Are you sure to cancel this?",onConfirm:y,okText:"Yes, cancel",cancelText:"No",children:Object(_.jsx)(ae.a,{danger:!0,icon:Object(_.jsx)(pt.a,{}),htmlType:"button",loading:b,children:"Cancel"})})})]})})})}})]})})}))),It=(n(344),Object(o.b)((function(e){return{user:e.user}}))((function(e){var t=e.user,n=Object(R.useState)(!0),c=Object(L.a)(n,2),s=c[0],r=c[1],i=Object(R.useState)(!0),o=Object(L.a)(i,2),l=o[0],j=o[1],b=Object(R.useState)(1),h=Object(L.a)(b,2),O=h[0],m=h[1],g=Object(R.useState)(10),p=Object(L.a)(g,1)[0],x=Object(R.useState)({}),A=Object(L.a)(x,2),v=A[0],y=A[1],S=Object(R.useState)(),I=Object(L.a)(S,2),N=I[0],C=I[1],Q=function(e,t){r(!0),v[e]?(m(e),r(!1)):d.a.request(st(nt.ASSETS,e-1,t)).then((function(t){t&&200===t.status&&(y(Object(u.a)(Object(u.a)({},v),{},Object(jt.a)({},e,t.data))),m(e),r(!1))})).catch((function(e){f({message:"".concat(e)},"error"),r(!1)}))},w={inOperation:"In Operation",inAlert:"In Alert",inDowntime:"In Downtime"},B={inOperation:"green",inAlert:"volcano",inDowntime:"blue"};return Object(R.useEffect)((function(){Q(O,p),j(!0),d.a.request(ct()).then((function(e){e&&200===e.status&&(C(E(e.data)),j(!1))})).catch((function(e){f({message:"".concat(e)},"error"),j(!1)}))}),[]),Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(qe,{name:"Asset",summaryData:N,currentPage:O,pageSize:p,pageTotal:v[O]?v[O].total:void 0,isLoadingContent:s,isLoadingSummary:l,onChangePage:function(e,t){Q(e,t)},showChartSelectors:!1,addRoute:t.role===a.EMPLOYEE?"":"/assets/new",children:v[O]?v[O].content.map((function(e){return Object(_.jsx)(he,{highcharts:fe.a,healthChart:!0,editRoute:"/assets/".concat(e.id),data:e.healthscore,children:Object(_.jsxs)(J.a,{children:[Object(_.jsx)(Y.a,{span:16,children:Object(_.jsx)(ie.a.Meta,{avatar:Object(_.jsx)(ne.a,{src:Object(_.jsx)(F.a,{src:e.image})}),title:e.name,description:"S/N: ".concat(e.serialnumber)})}),Object(_.jsx)(Y.a,{span:8,children:Object(_.jsx)("div",{className:"text-end",children:Object(_.jsx)(Fe.a,{color:B[e.status]?B[e.status]:"red",children:w[e.status]})})})]})},e.id)})):null})})}))),Nt=n(221),Ct=n(173),Qt=n(357),wt=n(386),Bt=n(110),kt=n(215),Rt=(n(349),Object(o.b)((function(e){return{user:e.user}}))((function(e){var t=e.user,n=Je.a.useForm(),s=Object(L.a)(n,1)[0],r=Object(T.g)(),i=Object(T.h)().id,o=Object(R.useState)(!0),l=Object(L.a)(o,2),j=l[0],b=l[1],h=Object(R.useState)(!1),O=Object(L.a)(h,2),m=O[0],g=O[1],p=Object(R.useState)(!1),x=Object(L.a)(p,2),A=x[0],E=x[1],v=Object(R.useState)(""),y=Object(L.a)(v,2),S=y[0],I=y[1],N=Object(R.useState)({name:"",healthscore:50,image:"",serialnumber:"",status:c.IN_DOWNTIME,user:void 0,unit:void 0,company:t.role===a.ADMIN?void 0:t.company}),C=Object(L.a)(N,2),Q=C[0],w=C[1];Object(R.useEffect)((function(){b(!0),d.a.request(st(nt.ASSETS,void 0,void 0,i)).then((function(e){if(e&&200===e.status){var t=e.data;t&&Object.keys(t).length?(E(!1),w(e.data),I(e.data.image),s.resetFields()):E(!0)}b(!1)})).catch((function(){E(!0),b(!1)}))}),[]);var B=function(){return r.push("/assets")};return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(Ke,{form:s,name:"Asset",isNew:A,isLoading:j,onAddNew:function(e){var t=Object(u.a)(Object(u.a)({},e),{},{image:S});g(!0),d.a.request(rt(nt.ASSETS,t)).then((function(e){e&&201===e.status&&(g(!1),f({message:"Asset Created!",duration:5},"success"),B())})).catch((function(e){g(!1),f({message:"".concat(e)},"error")}))},onUpdate:function(e){g(!0);var t=S.split(","),n=Object(u.a)(Object(u.a)({},e),{},{image:"",imageType:t.length?t[0]:"",imageBuffer:t.length?t[1]:""});d.a.request(it(nt.ASSETS,n,i)).then((function(e){e&&200===e.status?(g(!1),f({message:"Asset Updated!",duration:5},"success"),B()):(g(!1),f({message:"Unable to make request to server"},"error"))})).catch((function(e){g(!1),f({message:"".concat(e)},"error")}))},onDelete:t.role===a.EMPLOYEE?void 0:function(){d.a.request(ot(nt.ASSETS,i)).then((function(e){e&&200===e.status&&(g(!1),f({message:"Asset deleted!",duration:5},"info"),B())})).catch((function(e){g(!1),f({message:"".concat(e)},"error")}))},onGoBack:B,children:[Object(_.jsx)(J.a,{children:Object(_.jsx)(Y.a,{span:12,children:Object(_.jsx)(Je.a.Item,{label:"Name",name:"name",initialValue:Q.name,rules:[{required:!0,message:"Please input Asset name!"}],children:Object(_.jsx)(Ze.a,{disabled:m||t.role===a.EMPLOYEE})})})}),Object(_.jsx)(J.a,{children:Object(_.jsx)(Y.a,{span:12,children:Object(_.jsx)(Je.a.Item,{label:"Serial Number",name:"serialnumber",initialValue:Q.serialnumber,required:!1,children:Object(_.jsx)(Ze.a,{disabled:m||t.role===a.EMPLOYEE})})})}),Object(_.jsx)(J.a,{children:Object(_.jsx)(Y.a,{span:12,children:Object(_.jsx)(Je.a.Item,{label:"Company",name:"company",initialValue:Q.company,required:!1,children:Object(_.jsx)(Ze.a,{type:"number",min:1,disabled:m||t.role!==a.ADMIN})})})}),Object(_.jsx)(J.a,{children:Object(_.jsx)(Y.a,{span:12,children:Object(_.jsx)(Je.a.Item,{label:"Unit",name:"unit",initialValue:Q.unit,required:!1,children:Object(_.jsx)(Ze.a,{type:"number",min:1,disabled:m||t.role===a.EMPLOYEE})})})}),Object(_.jsx)(J.a,{children:Object(_.jsx)(Y.a,{span:12,children:Object(_.jsx)(Je.a.Item,{label:"Responsible",name:"user",initialValue:Q.user,required:!1,children:Object(_.jsx)(Ze.a,{type:"number",min:1,disabled:m||t.role===a.EMPLOYEE})})})}),Object(_.jsx)(J.a,{children:Object(_.jsx)(Y.a,{span:12,children:Object(_.jsx)(Je.a.Item,{initialValue:Q.healthscore,label:"Health",name:"healthscore",children:Object(_.jsx)(Ct.a,{min:0,max:100,step:.05,tipFormatter:function(e){return"".concat(e,"%")}})})})}),Object(_.jsx)(J.a,{children:Object(_.jsx)(Y.a,{span:12,children:Object(_.jsx)(Je.a.Item,{label:"Status",name:"status",initialValue:Q.status,rules:[{required:!0,message:"Please select a Status!"}],children:Object(_.jsxs)(Oe.a.Group,{children:[Object(_.jsx)(Oe.a.Button,{value:c.IN_OPERATION,children:"In Operation"}),Object(_.jsx)(Oe.a.Button,{value:c.IN_ALERT,children:"In Alert"}),Object(_.jsx)(Oe.a.Button,{value:c.IN_DOWNTIME,children:"In Downtime"})]})})})}),Object(_.jsx)(J.a,{children:Object(_.jsx)(Y.a,{span:12,children:Object(_.jsx)(Je.a.Item,{label:"Image",name:"image",extra:"Max. 5 MB",children:Object(_.jsxs)(te.b,{align:"start",children:[Object(_.jsx)(kt.a,{rotate:!0,children:Object(_.jsx)(Qt.a,{accept:"image/png, image/jpg, image/jpeg",maxCount:1,showUploadList:!1,beforeUpload:function(e){if(e.size/1024/1024<5){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){I(t.result.toString())},t.onerror=function(e){console.log("Error: ",e),Nt.b.error("Error processing image: ".concat(e),15)}}else Nt.b.error("Image must be smaller than 5MB!",10);return!1},customRequest:function(e){(0,e.onSuccess)("ok",void 0)},children:Object(_.jsx)(ae.a,{icon:Object(_.jsx)(wt.a,{}),children:"Upload"})})}),Object(_.jsx)(F.a,{width:"200px",src:S,fallback:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg=="}),S&&Object(_.jsx)(ee.a,{placement:"right",title:"Remove image",children:Object(_.jsx)(Bt.a,{onClick:function(){return I("")}})})]})})})}),Object(_.jsx)(Je.a.Item,{shouldUpdate:!0,children:function(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(J.a,{justify:"end",children:Object(_.jsxs)(te.b,{children:[Object(_.jsx)(Y.a,{children:Object(_.jsx)(ae.a,{type:"primary",icon:Object(_.jsx)(gt.a,{}),htmlType:"submit",loading:m,children:"Save"})}),Object(_.jsx)(Y.a,{children:Object(_.jsx)(De.a,{placement:"top",title:"Are you sure to cancel this?",onConfirm:B,okText:"Yes, cancel",cancelText:"No",children:Object(_.jsx)(ae.a,{danger:!0,icon:Object(_.jsx)(pt.a,{}),htmlType:"button",loading:m,children:"Cancel"})})})]})})})}})]})})})));n(350);Me="https://challenge-application.herokuapp.com",d.a.defaults.baseURL=Me,d.a.interceptors.request.use((function(e){var t=x("user");return t&&t.token&&(e.headers["x-access-token"]=t.token),e})),d.a.interceptors.response.use((function(e){return e}),(function(e){if(e.response){if(403===e.response.status||401===e.response.status){if(A("user"),window.location.href.indexOf("/login")<0)throw window.location.href="".concat(window.location.href,"?unauthorized=").concat(e.response.status),new Error("User unauthorized, please login");throw e}if(400===e.response.status){var t=e.response.data;throw t.indexOf("duplicate key error")>=0&&(t=t.substring(t.lastIndexOf("dup key:")).replace("dup key","Duplicate unique field")),new Error("".concat(t))}throw e}}));var Pt={checkAuthenticationConnect:function(){return function(e){var t=x("user");e(t?w(t):B())}}},Ut=Object(o.b)((function(e){return{user:e.user}}),Pt)((function(e){var t=e.user,n=e.checkAuthenticationConnect;Object(R.useEffect)((function(){n()}),[]);var a=t&&void 0!==t.token&&Object(_.jsx)(U.a,{children:Object(_.jsxs)(T.d,{children:[Object(_.jsx)(T.b,{exact:!0,path:"/",render:function(){return Object(_.jsx)(T.a,{to:"/challenge/dashboard",push:!0})}}),Object(_.jsx)(T.b,{path:"/login",component:ut}),Object(_.jsx)($,{path:"/challenge",component:Ge}),Object(_.jsx)(T.b,{path:"*",render:function(){return Object(_.jsx)(T.a,{to:"/login",push:!0})}})]})});return Object(_.jsx)("div",{className:"App",children:a})}));i.a.render(Object(_.jsx)(o.a,{store:k,children:Object(_.jsx)(Ut,{})}),document.getElementById("root"))}},[[351,1,2]]]);
//# sourceMappingURL=main.c3e207f8.chunk.js.map