{"version":3,"sources":["commons/index.ts","utils/index.ts","redux/userRedux.ts","store/index.ts","components/securityRoute/SecurityRoute.tsx","components/userActions/UserActions.tsx","components/summaryView/CardWithChart.tsx","components/summaryView/SummaryView.tsx","components/baseForm/BaseForm.tsx","containers/layout/Layout.tsx","services/index.ts","containers/login/Login.tsx","containers/dashboard/Dashboard.tsx","containers/company/CompanyView.tsx","containers/company/CompanyForm.tsx","containers/unit/UnitView.tsx","containers/unit/UnitForm.tsx","containers/user/UserView.tsx","containers/user/UserForm.tsx","containers/asset/AssetView.tsx","containers/asset/AssetForm.tsx","App.tsx","index.tsx"],"names":["UserRole","AssetStatus","ChartTypes","colors","getStore","name","JSON","parse","window","sessionStorage","getItem","removeItem","openNotification","args","type","notification","hasOwnProperty","message","placement","duration","getReportsFromData","data","inOperationArray","filter","item","status","IN_OPERATION","inAlertArray","IN_ALERT","inDowntimeArray","IN_DOWNTIME","inOperation","length","inAlert","inDowntime","filterReportsDataBy","field","value","getChartData","bar","report","color","averageHealth","pie","y","total","getSeriesData","getSummaryChartOptions","title","chartToShow","BAR","PIE","height","dataKeys","Object","keys","options","text","annotations","chart","credits","enabled","legend","includes","responsive","rules","condition","maxHeight","chartOptions","xAxis","categories","yAxis","series","forEach","key","push","pieSerie","center","size","showInLegend","dataLabels","draggable","labels","point","x","constants","initialState","username","email","role","token","company","login","user","content","contentToStore","stringify","setItem","setStore","payload","logout","store","configureStore","reducer","state","undefined","action","connect","component","rest","to","pathname","mapDispatchToProps","logoutConnect","className","align","style","backgroundColor","substring","toUpperCase","shape","icon","LogoutOutlined","onClick","CardWithChart","highcharts","currentChart","editRoute","showChart","healthChart","isLoadingReports","children","useState","setChartToShow","setOptions","history","useHistory","useEffect","pane","startAngle","endAngle","background","innerRadius","outerRadius","tooltip","stops","lineWidth","tickWidth","minorTickInterval","tickAmount","min","max","plotOptions","solidgauge","borderWidth","useHTML","format","valueSuffix","changeChart","actions","BarChartOutlined","PieChartOutlined","EditOutlined","width","margin","cover","spinning","delay","noData","Highcharts","drilldown","exportModule","exportOffline","highchartsMore","highchartsSolidGauge","baseURL","SummaryView","summaryData","currentPage","pageSize","pageTotal","isLoadingContent","isLoadingSummary","showSummaryChart","onChangePage","onChangeCurrentChart","showChartSelectors","addRoute","dividerText","setCurrentChart","pluralName","pluralize","listActions","justify","Group","onChange","e","newChart","target","Button","current","page","showSizeChanger","backIcon","subTitle","extra","PlusOutlined","lg","span","xl","BaseForm","form","isNew","isLoading","onAddNew","onUpdate","onGoBack","onDelete","onBack","tags","PlusCircleOutlined","onConfirm","okText","cancelText","danger","DeleteOutlined","labelCol","layout","requiredMark","onFinish","values","scrollToFirstError","items","AreaChartOutlined","path","label","BankOutlined","blackList","EMPLOYEE","GoldOutlined","TeamOutlined","TagsOutlined","collapsed","setcollapsed","Header","Layout","Sider","Content","Title","Typography","React","breakpoint","trigger","collapsible","preview","src","alt","theme","mode","defaultSelectedKeys","location","split","map","Item","padding","createElement","MenuUnfoldOutlined","MenuFoldOutlined","level","overflow","DashboardView","exact","AssetView","AssetForm","CompanyView","CompanyForm","UnitView","UnitForm","UserView","UserForm","GET","POST","base","version","resources","COMPANIES","UNITS","USERS","ASSETS","REPORTS","endPoints","password","url","method","groupFields","filterFields","groupBy","filters","concat","entries","resource","id","loginConnect","isLogging","setIsLogging","msg","alertProps","setAlert","Form","useForm","showIcon","closable","axios","request","then","response","catch","error","required","disabled","prefix","UserOutlined","placeholder","Password","LockOutlined","shouldUpdate","htmlType","loading","isFieldsTouched","getFieldsError","errors","setIsLoading","graphsBy","ADMIN","MANAGER","getOptions","reportData","reportDataToDrill","mainseries","drilldownSeries","seriesName","drilldownData","mainSeries","subtitle","accessibility","announceNewData","headerFormat","pointFormat","colorByPoint","getDrilldownChartOptions","by","responseDrill","currentGlobalChart","setCurrentGlobalChart","isLoadingPage","setIsLoadingPage","setIsLoadingReports","setIsLoadingSummary","setCurrentPage","pageData","setPageData","setSummaryData","setReportData","getPage","Meta","description","cnpj","active","useParams","isSaving","setIsSaving","setIsNew","setCompany","resetFields","initialValue","valuePropName","checkedChildren","CheckOutlined","unCheckedChildren","CloseOutlined","SaveOutlined","StopOutlined","unit","setUnit","getTagColor","admin","manager","employee","Ribbon","avatar","props","setUser","Option","getTagText","healthscore","image","serialnumber","imageBase64","setImageBase64","asset","setAsset","newAsset","splited","imageType","imageBuffer","step","tipFormatter","rotate","accept","maxCount","showUploadList","beforeUpload","file","reader","FileReader","readAsDataURL","onload","result","toString","onerror","console","log","customRequest","onSuccess","UploadOutlined","fallback","CloseCircleOutlined","defaults","interceptors","use","req","headers","res","href","indexOf","Error","errorMessage","lastIndexOf","replace","checkAuthenticationConnect","dispatch","app","render","Login","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.c0b059d6.chunk.js","sourcesContent":["interface BaseStructure {\n  id?: number;\n  name: string;\n}\n\nexport interface Company extends BaseStructure {\n  description?: string;\n  cnpj: string;\n  active: boolean;\n}\n\nexport interface Unit extends BaseStructure {\n  company: number;\n}\n\nexport enum UserRole {\n  ADMIN = 'admin',\n  MANAGER = 'manager',\n  EMPLOYEE = 'employee',\n}\n\nexport interface User extends BaseStructure {\n  username: string;\n  email: string;\n  role: UserRole;\n  token?: string;\n  password?: string;\n  company?: number;\n}\n\nexport enum AssetStatus {\n  IN_OPERATION = 'inOperation',\n  IN_DOWNTIME = 'inDowntime',\n  IN_ALERT = 'inAlert',\n}\n\nexport interface Asset extends BaseStructure {\n  healthscore: number;\n  status: AssetStatus;\n  serialnumber: string;\n  user: number;\n  unit: number;\n  company: number;\n  image: string;\n}\n\nexport interface WithUserProps {\n  user?: User;\n}\n\nexport interface ReportsData {\n  status: AssetStatus;\n  unit?: number;\n  company?: number;\n  total: number;\n  averageHealth: number;\n}\n\nexport interface Reports {\n  inOperation: ReportsData;\n  inAlert: ReportsData;\n  inDowntime: ReportsData;\n}\n\nexport interface Page<T> {\n  content: Array<T>;\n  total: number;\n  page: number;\n  size: number;\n}\n\nexport enum ChartTypes {\n  BAR = 'bar',\n  PIE = 'pie',\n}\n","import axios from 'axios';\nimport { notification } from 'antd';\nimport { Options, SeriesPieOptions, SeriesOptionsType } from 'highcharts';\n\nimport {\n  User,\n  Reports,\n  ReportsData,\n  AssetStatus,\n  ChartTypes,\n} from '../commons';\n\nconst colors = {\n  red: '#E03C31',\n  yellow: '#FFD800',\n  green: '#9ACD32',\n  blue: '#1890FF',\n  lightGray: '#EEEEEE',\n};\n\nexport const setStore = (name: string, content: unknown): void => {\n  if (!name) return;\n  const contentToStore =\n    typeof content !== 'string' ? JSON.stringify(content) : content;\n  return window.sessionStorage.setItem(name, contentToStore);\n};\n\nexport const getStore = (name: string): unknown | undefined => {\n  if (name) return JSON.parse(window.sessionStorage.getItem(name));\n  return null;\n};\n\nexport const removeItem = (name: string): void => {\n  if (name) window.sessionStorage.removeItem(name);\n};\n\nexport const openNotification = (\n  args: Record<string, unknown>,\n  type = 'open',\n): void => {\n  if (notification.hasOwnProperty(type)) {\n    notification[type]({\n      message: '',\n      placement: 'topRight',\n      duration: 0,\n      ...args,\n    });\n  }\n};\n\nexport const axiosSetup = (baseURL: string): void => {\n  axios.defaults.baseURL = baseURL;\n  axios.interceptors.request.use(req => {\n    const user = getStore('user') as User;\n    if (user && user.token) {\n      req.headers['x-access-token'] = user.token;\n    }\n    return req;\n  });\n  axios.interceptors.response.use(\n    res => res,\n    error => {\n      if (error.response) {\n        if (error.response.status === 403 || error.response.status === 401) {\n          removeItem('user');\n          if (window.location.href.indexOf('/login') < 0) {\n            window.location.href = `${window.location.href}?unauthorized=${error.response.status}`;\n            throw new Error('User unauthorized, please login');\n          }\n          throw error;\n        } else if (error.response.status === 400) {\n          let errorMessage = error.response.data;\n          if (errorMessage.indexOf('duplicate key error') >= 0) {\n            errorMessage = errorMessage\n              .substring(errorMessage.lastIndexOf('dup key:'))\n              .replace('dup key', 'Duplicate unique field');\n          }\n          throw new Error(`${errorMessage}`);\n        } else {\n          throw error;\n        }\n      }\n    },\n  );\n};\n\nexport const getReportsFromData = (data: Array<ReportsData>): Reports => {\n  const inOperationArray = data.filter(\n    item => item.status === AssetStatus.IN_OPERATION,\n  );\n\n  const inAlertArray = data.filter(\n    item => item.status === AssetStatus.IN_ALERT,\n  );\n\n  const inDowntimeArray = data.filter(\n    item => item.status === AssetStatus.IN_DOWNTIME,\n  );\n\n  return {\n    inOperation: inOperationArray.length ? inOperationArray[0] : null,\n    inAlert: inAlertArray.length ? inAlertArray[0] : null,\n    inDowntime: inDowntimeArray.length ? inDowntimeArray[0] : null,\n  };\n};\n\nexport const filterReportsDataBy = (\n  data: Array<ReportsData>,\n  field: string,\n  value: unknown,\n): Array<ReportsData> => data.filter(item => item[field] === value);\n\nconst getChartData = {\n  bar: (name: string, report: ReportsData, color: string) => ({\n    type: 'column',\n    name: name,\n    data: [report.averageHealth],\n    color: color,\n  }),\n  pie: (name: string, report: ReportsData, color: string) => ({\n    name: name,\n    y: report.total,\n    color: color,\n  }),\n};\n\nconst getSeriesData = {\n  inOperation: (inOperation: ReportsData, type: ChartTypes) => {\n    return getChartData[type]('In Operation', inOperation, colors.green);\n  },\n  inAlert: (inAlert: ReportsData, type: ChartTypes) => {\n    return getChartData[type]('In Alert', inAlert, colors.yellow);\n  },\n  inDowntime: (inDowntime: ReportsData, type: ChartTypes) => {\n    return getChartData[type]('In Downtime', inDowntime, colors.blue);\n  },\n};\n\nexport const getHealthChartOptions = (healthscore: number): unknown => {\n  return {\n    chart: {\n      type: 'solidgauge',\n      height: 200,\n    },\n\n    title: { text: '' },\n\n    pane: {\n      center: ['50%', '85%'],\n      size: '140%',\n      startAngle: -90,\n      endAngle: 90,\n      background: {\n        backgroundColor: colors.lightGray,\n        innerRadius: '60%',\n        outerRadius: '100%',\n        shape: 'arc',\n      },\n    },\n\n    credits: {\n      enabled: false,\n    },\n\n    tooltip: {\n      enabled: false,\n    },\n\n    yAxis: {\n      stops: [\n        [0.1, colors.red],\n        [0.5, colors.yellow],\n        [0.85, colors.green],\n      ],\n      lineWidth: 0,\n      tickWidth: 0,\n      minorTickInterval: null,\n      tickAmount: 2,\n      title: {\n        text: 'Health',\n        y: 15,\n      },\n      labels: {\n        y: 16,\n      },\n      min: 0,\n      max: 100,\n    },\n    plotOptions: {\n      solidgauge: {\n        dataLabels: {\n          y: 5,\n          borderWidth: 0,\n          useHTML: true,\n        },\n      },\n    },\n    series: [\n      {\n        name: 'Health',\n        data: [healthscore],\n        dataLabels: {\n          format:\n            '<div style=\"text-align:center\">' +\n            '<span style=\"font-size:25px\">{y}</span><br/>' +\n            '<span style=\"font-size:12px;opacity:0.4\">%</span>' +\n            '</div>',\n        },\n        tooltip: {\n          valueSuffix: ' %',\n        },\n      },\n    ],\n  };\n};\n\nexport const getSummaryChartOptions = (\n  title: string,\n  data: Reports,\n  chartToShow: Array<ChartTypes> = [ChartTypes.BAR, ChartTypes.PIE],\n  height: number = null,\n): Options => {\n  const dataKeys = data ? Object.keys(data) : [];\n  const options: Options = {\n    title: {\n      text: `${title}`,\n    },\n    annotations: [],\n    chart: {\n      height: height,\n    },\n    credits: {\n      enabled: false,\n    },\n    legend: {\n      enabled: chartToShow.length > 1 && chartToShow.includes(ChartTypes.BAR),\n    },\n    responsive: {\n      rules: [\n        {\n          condition: {\n            maxHeight: 330,\n          },\n          chartOptions: {\n            title: { text: '' },\n            legend: {\n              enabled: false,\n            },\n          },\n        },\n      ],\n    },\n    xAxis: {\n      categories: ['Assets average health'],\n    },\n    yAxis: {\n      title: {\n        text: chartToShow.includes(ChartTypes.BAR) ? 'Health' : '',\n      },\n    },\n    series: [],\n  };\n  if (chartToShow.includes(ChartTypes.BAR)) {\n    dataKeys.forEach(key => {\n      if (data[key] && getSeriesData.hasOwnProperty(key)) {\n        options.series.push(getSeriesData[key](data[key], ChartTypes.BAR));\n      }\n    });\n  }\n  if (chartToShow.includes(ChartTypes.PIE)) {\n    const pieSerie: SeriesPieOptions = {\n      type: 'pie',\n      name: 'Total',\n      data: [],\n      center: chartToShow.includes(ChartTypes.BAR) ? [50, 80] : ['50%', '50%'],\n      size: 100,\n      showInLegend: false,\n      dataLabels: {\n        enabled: false,\n      },\n    };\n    dataKeys.forEach(key => {\n      if (data[key] && getSeriesData.hasOwnProperty(key)) {\n        pieSerie.data.push(getSeriesData[key](data[key], ChartTypes.PIE));\n      }\n    });\n    if (pieSerie.data.length) {\n      options.series.push(pieSerie);\n      options.annotations.push({\n        draggable: '',\n        labels: [\n          {\n            point: chartToShow.includes(ChartTypes.BAR)\n              ? { x: 70, y: 100 }\n              : { x: 140, y: 90 },\n            text: 'Assets total',\n            x: 0,\n            y: -85,\n          },\n        ],\n      });\n    }\n  }\n  return { ...options };\n};\n\nexport const getDrilldownChartOptions = (\n  mainSeries: Array<SeriesOptionsType>,\n  drilldownSeries: Array<SeriesOptionsType>,\n  field: string,\n): unknown => {\n  const options = {\n    chart: {\n      type: 'pie',\n    },\n    title: {\n      text: `Assets average health by ${field}`,\n    },\n    subtitle: {\n      text: 'Click the slices for more details',\n    },\n    accessibility: {\n      announceNewData: {\n        enabled: true,\n      },\n      point: {\n        valueSuffix: '%',\n      },\n    },\n    credits: {\n      enabled: false,\n    },\n    plotOptions: {\n      series: {\n        dataLabels: {\n          enabled: true,\n          format: '{point.name}: {point.y:.1f}%',\n        },\n      },\n    },\n\n    tooltip: {\n      headerFormat: '<span style=\"font-size:11px\">{series.name}</span><br>',\n      pointFormat:\n        '<span style=\"color:{point.color}\">{point.name}</span>: Average Health in <b>{point.y:.2f}%</b> <br/>',\n      useHTML: true,\n    },\n\n    series: [\n      {\n        name: 'Average health',\n        colorByPoint: true,\n        data: mainSeries,\n      },\n    ],\n    drilldown: {\n      series: drilldownSeries,\n    },\n  };\n\n  return { ...options };\n};\n\nexport const placeHolderImg =\n  'data:image/png;base64,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';\n","import { AnyAction } from 'redux';\nimport { ThunkDispatch as Dispatch } from 'redux-thunk';\n\nimport { User } from '../commons';\nimport { setStore, getStore, removeItem } from '../utils';\n\ninterface UserAction {\n  type: string;\n  payload?: User;\n}\n\nconst constants = {\n  LOGIN: 'LOGIN',\n  LOGOUT: 'LOGOUT',\n};\n\nconst initialState: User = {\n  name: null,\n  username: null,\n  email: null,\n  role: null,\n  token: null,\n  company: null,\n};\n\nexport const login = (user: User): UserAction => {\n  setStore('user', user);\n  return {\n    type: constants.LOGIN,\n    payload: user,\n  };\n};\n\nexport const logout = (): UserAction => {\n  removeItem('user');\n  return { type: constants.LOGOUT };\n};\n\nexport const checkAuthentication = () => {\n  return (dispatch: Dispatch<UserAction, void, AnyAction>): void => {\n    const user = getStore('user') as User;\n    user ? dispatch(login(user)) : dispatch(logout());\n  };\n};\n\nexport default (\n  state: User = {\n    name: undefined,\n    username: undefined,\n    email: undefined,\n    role: undefined,\n    token: 'token',\n    company: undefined,\n  },\n  action: UserAction,\n): User => {\n  switch (action.type) {\n    case constants.LOGIN:\n      return { ...action.payload };\n    case constants.LOGOUT:\n      return { ...initialState };\n  }\n  return state;\n};\n","import { configureStore } from '@reduxjs/toolkit';\n\nimport userReducer from '../redux/userRedux';\n\nconst store = configureStore({\n  reducer: {\n    user: userReducer,\n  },\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n\nexport default store;\n","import { FC } from 'react';\nimport { RouteProps } from 'react-router';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport { WithUserProps } from '../../commons';\nimport { RootState } from '../../store';\n\ninterface SecurityRouteProps extends RouteProps, WithUserProps {}\n\nconst SecurityRoute: FC<SecurityRouteProps> = ({\n  component,\n  user,\n  ...rest\n}: SecurityRouteProps) => {\n  return user && user.token ? (\n    <Route {...rest} component={component} />\n  ) : (\n    <Redirect to={{ pathname: '/login' }} />\n  );\n};\n\nconst mapStateToProps = (state: RootState) => ({\n  user: state.user,\n});\n\nexport default connect(mapStateToProps)(SecurityRoute);\n","import { FC } from 'react';\nimport { connect } from 'react-redux';\nimport { Tooltip, Button, Avatar, Space } from 'antd';\nimport { LogoutOutlined } from '@ant-design/icons';\n\nimport './UserActions.css';\nimport { WithUserProps } from '../../commons';\nimport { RootState } from '../../store';\nimport { logout } from '../../redux/userRedux';\n\ninterface UserActionsProps extends WithUserProps {\n  logoutConnect: () => void;\n}\n\nconst UserActions: FC<UserActionsProps> = ({\n  user,\n  logoutConnect,\n}: UserActionsProps) => {\n  const logOut = () => {\n    logoutConnect();\n  };\n\n  return (\n    <div className='logout'>\n      <Tooltip placement='bottom' title={user.email}>\n        <Space align='center'>\n          <Avatar style={{ backgroundColor: '#1890FF' }}>\n            {user.name.substring(0, 2).toUpperCase()}\n          </Avatar>\n          {user.username}\n        </Space>\n      </Tooltip>\n      <Tooltip placement='bottom' title={'logout'}>\n        <Button\n          className='logout-button'\n          shape='circle'\n          icon={<LogoutOutlined />}\n          onClick={logOut}\n        />\n      </Tooltip>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: RootState) => ({\n  user: state.user,\n});\n\nconst mapDispatchToProps = {\n  logoutConnect: logout,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserActions);\n","import { FC, ReactNode, CSSProperties, useState, useEffect } from 'react';\nimport { Card, Tooltip, Spin } from 'antd';\nimport {\n  PieChartOutlined,\n  EditOutlined,\n  BarChartOutlined,\n} from '@ant-design/icons';\nimport { useHistory } from 'react-router';\nimport Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official';\n\nimport './CardWithChart.css';\nimport { Reports, ChartTypes } from '../../commons';\nimport { getSummaryChartOptions, getHealthChartOptions } from '../../utils';\n\ninterface CardWithChartProps {\n  data?: Reports | number;\n  highcharts?: typeof Highcharts;\n  isLoadingReports?: boolean;\n  currentChart?: ChartTypes;\n  editRoute?: string;\n  showChart?: boolean;\n  healthChart?: boolean;\n  children?: ReactNode;\n  style?: CSSProperties;\n}\n\nconst CardWithChart: FC<CardWithChartProps> = ({\n  data,\n  highcharts,\n  currentChart,\n  editRoute = '',\n  showChart = true,\n  healthChart = false,\n  isLoadingReports = false,\n  children,\n  style,\n}: CardWithChartProps) => {\n  const [chartToShow, setChartToShow] = useState(ChartTypes.BAR);\n  const [options, setOptions] = useState({});\n  const history = useHistory();\n\n  useEffect(() => {\n    setOptions(\n      healthChart\n        ? getHealthChartOptions(data as number)\n        : getSummaryChartOptions('', data as Reports, [chartToShow], 200),\n    );\n  }, [data, chartToShow, healthChart]);\n\n  useEffect(() => {\n    if (currentChart) {\n      setChartToShow(currentChart);\n    }\n  }, [currentChart]);\n\n  const changeChart = (chart: ChartTypes) => {\n    setChartToShow(chart);\n  };\n\n  const actions =\n    healthChart || !showChart\n      ? []\n      : [\n          <Tooltip key='assetsHealth' placement='top' title='Average health'>\n            <BarChartOutlined\n              style={{\n                color:\n                  chartToShow === ChartTypes.BAR\n                    ? '#1890ff'\n                    : 'rgba(0, 0, 0, 0.45)',\n              }}\n              onClick={() => changeChart(ChartTypes.BAR)}\n            />\n          </Tooltip>,\n          <Tooltip key='totalAssets' placement='top' title='Assets total'>\n            <PieChartOutlined\n              style={{\n                color:\n                  chartToShow === ChartTypes.PIE\n                    ? '#1890ff'\n                    : 'rgba(0, 0, 0, 0.45)',\n              }}\n              onClick={() => changeChart(ChartTypes.PIE)}\n            />\n          </Tooltip>,\n        ];\n\n  if (editRoute) {\n    actions.push(\n      <Tooltip key='edit' placement='top' title={'Edit'}>\n        <EditOutlined onClick={() => history.push(editRoute)} />\n      </Tooltip>,\n    );\n  }\n\n  return (\n    <Card\n      style={{ width: 300, margin: '10px', ...style }}\n      className='card-with-chart'\n      cover={\n        showChart && (\n          <Spin spinning={isLoadingReports} delay={500}>\n            <HighchartsReact highcharts={highcharts} options={options} />\n          </Spin>\n        )\n      }\n      actions={actions}\n    >\n      {children}\n    </Card>\n  );\n};\n\nexport default CardWithChart;\n","import { FC, ReactNode, useState, useEffect } from 'react';\nimport { useHistory } from 'react-router';\nimport {\n  Row,\n  Col,\n  Spin,\n  Radio,\n  Button,\n  Divider,\n  Tooltip,\n  PageHeader,\n  Pagination,\n} from 'antd';\nimport {\n  PlusOutlined,\n  BarChartOutlined,\n  PieChartOutlined,\n} from '@ant-design/icons';\nimport Highcharts, { Options } from 'highcharts';\nimport noData from 'highcharts/modules/no-data-to-display';\nimport drilldown from 'highcharts/modules/drilldown';\nimport annotations from 'highcharts/modules/annotations';\nimport exportModule from 'highcharts/modules/exporting';\nimport exportOffline from 'highcharts/modules/offline-exporting';\nimport highchartsMore from 'highcharts/highcharts-more';\nimport highchartsSolidGauge from 'highcharts/modules/solid-gauge';\nimport HighchartsReact from 'highcharts-react-official';\nimport pluralize from 'pluralize';\n\nimport './SummaryView.css';\nimport { ChartTypes, Reports } from '../../commons';\nimport { getSummaryChartOptions } from '../../utils';\n\n// Highcharts modules\nnoData(Highcharts);\nannotations(Highcharts);\ndrilldown(Highcharts);\nexportModule(Highcharts);\nexportOffline(Highcharts);\nhighchartsMore(Highcharts);\nhighchartsSolidGauge(Highcharts);\n\ninterface SummaryViewProps {\n  name: string;\n  summaryData?: Reports;\n  currentPage: number;\n  pageSize: number;\n  pageTotal: number;\n  isLoadingContent: boolean;\n  isLoadingSummary?: boolean;\n  showSummaryChart?: boolean;\n  onChangePage: (page: number, size: number) => void;\n  onChangeCurrentChart?: (currentChart: ChartTypes) => void;\n  showChartSelectors?: boolean;\n  addRoute?: string;\n  dividerText?: string;\n  children?: ReactNode;\n}\n\nconst SummaryView: FC<SummaryViewProps> = ({\n  name,\n  summaryData,\n  currentPage,\n  pageSize,\n  pageTotal,\n  isLoadingContent,\n  isLoadingSummary,\n  showSummaryChart = true,\n  onChangePage,\n  onChangeCurrentChart = undefined,\n  showChartSelectors = true,\n  addRoute,\n  dividerText,\n  children,\n}: SummaryViewProps) => {\n  const [currentChart, setCurrentChart] = useState(ChartTypes.BAR);\n  const [options, setOptions] = useState<Options>();\n  const pluralName = pluralize(name);\n  const history = useHistory();\n\n  useEffect(() => {\n    if (summaryData) {\n      setOptions(\n        getSummaryChartOptions('Assets health and status summary', summaryData),\n      );\n    }\n  }, [summaryData]);\n\n  const onChangeChart = e => {\n    const newChart = e.target.value;\n    setCurrentChart(newChart);\n    if (onChangeCurrentChart) {\n      onChangeCurrentChart(newChart);\n    }\n  };\n\n  const listActions = (\n    <Row justify='space-between' align='middle'>\n      <Col>\n        {showChartSelectors && (\n          <Radio.Group value={currentChart} onChange={onChangeChart}>\n            <Tooltip placement='bottom' title='Average Health'>\n              <Radio.Button value={ChartTypes.BAR}>\n                <BarChartOutlined />\n              </Radio.Button>\n            </Tooltip>\n            <Tooltip placement='bottom' title='Assets total'>\n              <Radio.Button value={ChartTypes.PIE}>\n                <PieChartOutlined />\n              </Radio.Button>\n            </Tooltip>\n          </Radio.Group>\n        )}\n      </Col>\n      <Col>\n        <Pagination\n          current={currentPage}\n          onChange={(page, size) => onChangePage(page, size)}\n          pageSize={pageSize}\n          showSizeChanger={false}\n          total={pageTotal}\n        />\n      </Col>\n    </Row>\n  );\n\n  return (\n    <>\n      <PageHeader\n        backIcon={false}\n        className='page-header'\n        title={pluralName}\n        subTitle='view'\n        extra={\n          addRoute\n            ? [\n                <Button\n                  onClick={() => history.push(addRoute)}\n                  key='new'\n                  icon={<PlusOutlined />}\n                  type='primary'\n                >\n                  New {name}\n                </Button>,\n              ]\n            : []\n        }\n      />\n      {showSummaryChart && (\n        <Row justify='center' align='middle'>\n          <Col lg={{ span: 24 }} xl={{ span: 18 }}>\n            <Spin size='large' spinning={isLoadingSummary} delay={500}>\n              <HighchartsReact highcharts={Highcharts} options={options} />\n            </Spin>\n          </Col>\n        </Row>\n      )}\n      <Divider>{dividerText ? dividerText : `${pluralName} list`}</Divider>\n      <Spin size='large' spinning={isLoadingContent} delay={500}>\n        {children ? (\n          <>\n            {listActions}\n            <br />\n            <div className='flex-container'>{children}</div>\n            <br />\n            {listActions}\n          </>\n        ) : (\n          <div className='text-center'>\n            <h3>No data to display</h3>\n          </div>\n        )}\n      </Spin>\n    </>\n  );\n};\n\nexport default SummaryView;\n","import { FC, ReactNode } from 'react';\nimport {\n  PageHeader,\n  Spin,\n  Form,\n  Button,\n  Row,\n  Col,\n  Popconfirm,\n  Tag,\n  FormInstance,\n} from 'antd';\nimport {\n  DeleteOutlined,\n  EditOutlined,\n  PlusCircleOutlined,\n} from '@ant-design/icons';\nimport pluralize from 'pluralize';\n\nimport './BaseForm.css';\n\ninterface BaseFormProps {\n  form: FormInstance;\n  name: string;\n  isNew: boolean;\n  isLoading: boolean;\n  onAddNew: (values: Record<string, string>) => void;\n  onUpdate: (values: Record<string, string>) => void;\n  onGoBack: () => void;\n  onDelete: () => void;\n  children?: ReactNode;\n}\n\nconst BaseForm: FC<BaseFormProps> = ({\n  form,\n  name,\n  isNew,\n  isLoading,\n  onAddNew,\n  onUpdate,\n  onGoBack,\n  onDelete,\n  children,\n}: BaseFormProps) => {\n  const pluralName = pluralize(name);\n  const goBack = () => onGoBack();\n  const onFinish = (values: Record<string, string>) => {\n    if (isNew) {\n      onAddNew(values);\n    } else {\n      onUpdate(values);\n    }\n  };\n\n  return (\n    <>\n      <PageHeader\n        onBack={goBack}\n        className='page-header'\n        title={pluralName}\n        subTitle='form'\n        tags={\n          <Tag\n            icon={isNew ? <PlusCircleOutlined /> : <EditOutlined />}\n            color='processing'\n          >\n            {isNew ? 'Adding' : 'Editing'}\n          </Tag>\n        }\n        extra={\n          !isNew && onDelete\n            ? [\n                <Popconfirm\n                  key='remove'\n                  placement='left'\n                  title={'Are you sure to delete this?'}\n                  onConfirm={() => onDelete()}\n                  okText={`Yes, delete ${name}`}\n                  cancelText='No'\n                >\n                  <Row justify='end'>\n                    <Col>\n                      <Button danger icon={<DeleteOutlined />} />\n                    </Col>\n                  </Row>\n                </Popconfirm>,\n              ]\n            : []\n        }\n      />\n      <Spin spinning={isLoading} delay={500}>\n        <Form\n          labelCol={{ span: 4 }}\n          name={name}\n          layout='horizontal'\n          requiredMark={false}\n          onFinish={onFinish}\n          scrollToFirstError\n          size='large'\n          form={form}\n        >\n          {children}\n        </Form>\n      </Spin>\n    </>\n  );\n};\n\nexport default BaseForm;\n","import React, { FC, useState } from 'react';\nimport { Link, Switch } from 'react-router-dom';\nimport { Layout, Menu, Row, Col, Typography, Image } from 'antd';\nimport {\n  BankOutlined,\n  GoldOutlined,\n  TeamOutlined,\n  TagsOutlined,\n  MenuFoldOutlined,\n  AreaChartOutlined,\n  MenuUnfoldOutlined,\n} from '@ant-design/icons';\nimport { connect } from 'react-redux';\n\nimport './Layout.css';\nimport {\n  UnitView,\n  UnitForm,\n  UserView,\n  UserForm,\n  AssetView,\n  AssetForm,\n  CompanyView,\n  CompanyForm,\n  DashboardView,\n} from '../';\nimport { RootState } from '../../store';\nimport { SecurityRoute, UserActions } from '../../components';\nimport { WithUserProps, UserRole } from '../../commons';\n\nconst items = [\n  {\n    icon: <AreaChartOutlined />,\n    path: '/challenge/dashboard',\n    label: 'Dashboard',\n  },\n  {\n    icon: <BankOutlined />,\n    path: '/challenge/companies',\n    label: 'Companies',\n    blackList: [UserRole.EMPLOYEE],\n  },\n  {\n    icon: <GoldOutlined />,\n    path: '/challenge/units',\n    label: 'Units',\n    blackList: [UserRole.EMPLOYEE],\n  },\n  {\n    icon: <TeamOutlined />,\n    path: '/challenge/users',\n    label: 'Users',\n    blackList: [UserRole.EMPLOYEE],\n  },\n  {\n    icon: <TagsOutlined />,\n    path: '/challenge/assets',\n    label: 'Assets',\n  },\n];\n\nconst MainLayout: FC<WithUserProps> = ({ user }: WithUserProps) => {\n  const [collapsed, setcollapsed] = useState(false);\n\n  const { Header, Sider, Content } = Layout;\n  const { Title } = Typography;\n\n  React.useEffect(() => { }, []); // eslint-disable-line\n\n  const toggle = () => {\n    setcollapsed(!collapsed);\n  };\n\n  return (\n    <Layout className='layout'>\n      <Sider breakpoint='sm' trigger={null} collapsible collapsed={collapsed}>\n        <div className='logo-wrapper text-center'>\n          <Image\n            className='logo'\n            preview={false}\n            src='/logo192.png'\n            alt='challenge logo'\n          />\n        </div>\n        <Menu\n          theme='dark'\n          mode='inline'\n          defaultSelectedKeys={[`/${window.location.pathname.split('/')[1]}`]}\n        >\n          {items.map(item => {\n            if (\n              !item.icon ||\n              (item.blackList && item.blackList.includes(user.role))\n            ) {\n              return null;\n            }\n            return (\n              <Menu.Item key={item.path} icon={item.icon}>\n                <Link to={item.path}>\n                  <span>{item.label}</span>\n                </Link>\n              </Menu.Item>\n            );\n          })}\n        </Menu>\n      </Sider>\n      <Layout className='site-layout'>\n        <Header\n          className='header site-layout-background'\n          style={{ padding: 0 }}\n        >\n          <Row justify='space-around' align='middle'>\n            <Col span={8}>\n              {React.createElement(\n                collapsed ? MenuUnfoldOutlined : MenuFoldOutlined,\n                {\n                  className: 'trigger',\n                  onClick: toggle,\n                },\n              )}\n            </Col>\n            <Col span={8}>\n              <div className='brand'>\n                <Title level={3}>CHALLENGE</Title>\n              </div>\n            </Col>\n            <Col span={8}>\n              <UserActions />\n            </Col>\n          </Row>\n        </Header>\n        <Content\n          className='site-layout-background'\n          style={{\n            margin: '24px 16px',\n            padding: 24,\n            height: 'calc(100vh - 64px)',\n            overflow: 'auto',\n          }}\n        >\n          <Switch>\n            <SecurityRoute\n              path={'/challenge/dashboard'}\n              component={DashboardView}\n            />\n            <SecurityRoute\n              exact\n              path={'/challenge/assets'}\n              component={AssetView}\n            />\n            <SecurityRoute\n              path={'/challenge/assets/:id'}\n              component={AssetForm}\n            />\n            {user.role !== UserRole.EMPLOYEE && ( // Routes that employee don't have access\n              <>\n                <SecurityRoute\n                  exact\n                  path={'/challenge/companies'}\n                  component={CompanyView}\n                />\n                <SecurityRoute\n                  path={'/challenge/companies/:id'}\n                  component={CompanyForm}\n                />\n                <SecurityRoute\n                  exact\n                  path={'/challenge/units'}\n                  component={UnitView}\n                />\n                <SecurityRoute\n                  path={'/challenge/units/:id'}\n                  component={UnitForm}\n                />\n                <SecurityRoute\n                  exact\n                  path={'/challenge/users'}\n                  component={UserView}\n                />\n                <SecurityRoute\n                  path={'/challenge/users/:id'}\n                  component={UserForm}\n                />\n              </>\n            )}\n          </Switch>\n        </Content>\n      </Layout>\n    </Layout>\n  );\n};\n\nconst mapStateToProps = (state: RootState) => ({\n  user: state.user,\n});\n\nexport default connect(mapStateToProps)(MainLayout);\n","import { AxiosRequestConfig } from 'axios';\n\nconst GET = 'get';\nconst PUT = 'put';\nconst POST = 'post';\nconst DELETE = 'delete';\n\nexport const base = 'api';\nexport const version = 'v1';\n\nexport const resources = {\n  COMPANIES: `/${base}/${version}/companies`,\n  UNITS: `/${base}/${version}/units`,\n  USERS: `/${base}/${version}/users`,\n  ASSETS: `/${base}/${version}/assets`,\n  REPORTS: `/${base}/${version}/reports`,\n};\n\nexport const endPoints = {\n  login: (username: string, password: string): AxiosRequestConfig => {\n    return {\n      url: '/login',\n      method: POST,\n      data: { username, password },\n    };\n  },\n  reports: (\n    groupFields: string[] = ['status'],\n    filterFields: Record<string, string | number> = {},\n  ): AxiosRequestConfig => {\n    let groupBy = '';\n    let filters = '';\n    groupFields.forEach(field => {\n      groupBy = groupBy.concat(`groupField[]=${field}&`);\n    });\n    Object.entries(filterFields).forEach(filter => {\n      filters = filters.concat(`${filter[0]}=${filter[1]}&`);\n    });\n    let url = resources.REPORTS;\n    if (groupBy && filters) {\n      url = `${url}?${groupBy}&${filters}`;\n    } else if (groupBy) {\n      url = `${url}?${groupBy}`;\n    } else if (filters) {\n      url = `${url}?${filters}`;\n    }\n    return {\n      url: url,\n      method: GET,\n    };\n  },\n  get: (\n    resource: string,\n    page?: number,\n    size?: number,\n    id?: number | string,\n  ): AxiosRequestConfig => {\n    let url = id ? `${resource}/${id}` : resource;\n    if (\n      page !== undefined &&\n      page !== null &&\n      size !== undefined &&\n      size !== null\n    ) {\n      url = `${url}?page=${page}&size=${size}`;\n    } else if (page !== undefined && page !== null) {\n      url = `${url}?page=${page}`;\n    } else if (size !== undefined && size !== null) {\n      url = `${url}?size=${size}`;\n    }\n    return {\n      url: url,\n      method: GET,\n    };\n  },\n  put: (resource: string, data: unknown): AxiosRequestConfig => {\n    return {\n      url: resource,\n      method: PUT,\n      data: data,\n    };\n  },\n  post: (\n    resource: string,\n    data: unknown,\n    id?: number | string,\n  ): AxiosRequestConfig => {\n    return {\n      url: id ? `${resource}/${id}` : resource,\n      method: POST,\n      data: data,\n    };\n  },\n  delete: (resource: string, id?: number | string): AxiosRequestConfig => {\n    return {\n      url: id ? `${resource}/${id}` : resource,\n      method: DELETE,\n    };\n  },\n};\n","import { FC, useState, useEffect } from 'react';\nimport { useHistory } from 'react-router';\nimport { Button, Card, Form, Input, Image, Typography, Alert } from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport axios, { AxiosResponse } from 'axios';\nimport { connect } from 'react-redux';\n\nimport './Login.css';\nimport { User, WithUserProps } from '../../commons';\nimport { RootState } from '../../store';\nimport { endPoints } from '../../services';\nimport { login } from '../../redux/userRedux';\n\ninterface LoginProps extends WithUserProps {\n  loginConnect: (user: User) => void;\n}\n\nconst Login: FC<LoginProps> = ({ user, loginConnect }: LoginProps) => {\n  const [isLogging, setIsLogging] = useState(false);\n  const [alertProps, setAlert] = useState({ type: undefined, msg: undefined });\n  const [form] = Form.useForm();\n  const history = useHistory();\n  const { Title } = Typography;\n\n  useEffect(() => {\n    if (user && user.token) {\n      history.push('/challenge/dashboard');\n    }\n  });\n\n  const onFinish = (values: Record<string, string>) => {\n    setIsLogging(true);\n    axios\n      .request(endPoints.login(values.username, values.password))\n      .then((response: AxiosResponse<User>) => {\n        if (response && response.status === 200) {\n          const user = response.data;\n          loginConnect(user);\n          setIsLogging(false);\n          history.push('/challenge/dashboard');\n        }\n      })\n      .catch(error => {\n        let msg = `${error}`;\n        if (error.response) {\n          if (error.response.status === 401) {\n            msg = 'username or password incorrect';\n          } else {\n            msg = error.response.data;\n          }\n        }\n        setIsLogging(false);\n        setAlert({\n          type: 'error',\n          msg: msg,\n        });\n      });\n  };\n\n  return (\n    <div className='card-wrapper text-center'>\n      <Card className='card'>\n        {alertProps.type && alertProps.msg && (\n          <Alert\n            message={alertProps.msg}\n            type={alertProps.type}\n            showIcon\n            closable\n          />\n        )}\n        <div className='form-wrapper'>\n          <div>\n            <Image\n              preview={false}\n              width='50%'\n              src='/logo192.png'\n              alt='challenge logo'\n            />\n            <Title level={2}>CHALLENGE</Title>\n          </div>\n          <Form\n            name='login'\n            layout='vertical'\n            requiredMark={false}\n            onFinish={onFinish}\n            scrollToFirstError\n            size='large'\n            form={form}\n          >\n            <Form.Item\n              name='username'\n              rules={[\n                { required: true, message: 'Please input your Username!' },\n              ]}\n            >\n              <Input\n                disabled={isLogging}\n                prefix={<UserOutlined className='site-form-item-icon' />}\n                placeholder='Username or E-mail'\n              />\n            </Form.Item>\n            <Form.Item\n              name='password'\n              rules={[\n                { required: true, message: 'Please input your Password!' },\n              ]}\n            >\n              <Input.Password\n                disabled={isLogging}\n                prefix={<LockOutlined className='site-form-item-icon' />}\n                placeholder='Password'\n              />\n            </Form.Item>\n            <Form.Item shouldUpdate>\n              {() => (\n                <Button\n                  type='primary'\n                  htmlType='submit'\n                  loading={isLogging}\n                  disabled={\n                    !form.isFieldsTouched(true) ||\n                    !!form\n                      .getFieldsError()\n                      .filter(({ errors }) => errors.length).length\n                  }\n                >\n                  Login\n                </Button>\n              )}\n            </Form.Item>\n          </Form>\n        </div>\n      </Card>\n    </div>\n  );\n};\nconst mapStateToProps = (state: RootState) => ({\n  user: state.user,\n});\n\nconst mapDispatchToProps = {\n  loginConnect: login,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n","import { FC, useState, useEffect } from 'react';\nimport Highcharts, { Options } from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official';\nimport axios, { AxiosResponse } from 'axios';\nimport { connect } from 'react-redux';\nimport { Spin, Divider, PageHeader } from 'antd';\n\nimport './Dashboard.css';\nimport { ReportsData, WithUserProps, UserRole } from '../../commons';\nimport {\n  getReportsFromData,\n  filterReportsDataBy,\n  openNotification,\n  getDrilldownChartOptions,\n} from '../../utils';\nimport { endPoints } from '../../services';\nimport { RootState } from '../../store';\n\nconst DashboardView: FC<WithUserProps> = ({ user }: WithUserProps) => {\n  const [options, setOptions] = useState<Record<string, Options>>({});\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const graphsBy = () => {\n    if (user.role === UserRole.ADMIN) {\n      return ['company', 'unit'];\n    }\n    if (user.role === UserRole.MANAGER) {\n      return ['unit', 'user'];\n    }\n    return ['unit'];\n  };\n\n  const getOptions = (\n    reportData: Array<ReportsData>,\n    reportDataToDrill: Array<ReportsData>,\n    field: string,\n  ) => {\n    const mainseries = [];\n    const drilldownSeries = [];\n    reportData.forEach(data => {\n      const seriesName = `${field} ${data[field]}`;\n      mainseries.push({\n        name: seriesName,\n        y: data.averageHealth,\n        drilldown: seriesName,\n      });\n      const drilldownData = getReportsFromData(\n        filterReportsDataBy(reportDataToDrill, field, data[field]),\n      );\n      drilldownSeries.push({\n        name: seriesName,\n        id: seriesName,\n        data: [\n          drilldownData.inOperation\n            ? ['In Operation', drilldownData.inOperation.averageHealth]\n            : [],\n          drilldownData.inAlert\n            ? ['In Alert', drilldownData.inAlert.averageHealth]\n            : [],\n          drilldownData.inDowntime\n            ? ['In Downtime', drilldownData.inDowntime.averageHealth]\n            : [],\n        ],\n      });\n    });\n    setOptions({\n      [field]: getDrilldownChartOptions(mainseries, drilldownSeries, field),\n    });\n    setIsLoading(false);\n  };\n\n  const getDrillByField = (field: string) => {\n    setIsLoading(true);\n    axios\n      .request(endPoints.reports([field]))\n      .then((response: AxiosResponse<Array<ReportsData>>) => {\n        if (response && response.status === 200) {\n          axios\n            .request(endPoints.reports([field, 'status']))\n            .then((responseDrill: AxiosResponse<Array<ReportsData>>) => {\n              if (responseDrill && responseDrill.status === 200) {\n                getOptions(response.data, responseDrill.data, field);\n              }\n            })\n            .catch(error => {\n              openNotification({ message: `${error}` }, 'error');\n              setIsLoading(false);\n            });\n        }\n      })\n      .catch(error => {\n        openNotification({ message: `${error}` }, 'error');\n        setIsLoading(false);\n      });\n  };\n\n  useEffect(() => {\n    graphsBy().forEach(by => {\n      getDrillByField(by);\n    });\n  }, []); // eslint-disable-line\n\n  return (\n    <>\n      <PageHeader\n        backIcon={false}\n        className='page-header'\n        title={'Dashboard'}\n        subTitle='Summaries'\n        extra={[]}\n      />\n      <Divider></Divider>\n      <div className='dashboard-wrapper'>\n        {graphsBy().map(by => {\n          return (\n            <div key={by} className='chart-wrapper'>\n              <Spin spinning={isLoading} size='large'>\n                <HighchartsReact\n                  highcharts={Highcharts}\n                  options={options[by] ? options[by] : {}}\n                />\n              </Spin>\n            </div>\n          );\n        })}\n      </div>\n    </>\n  );\n};\n\nconst mapStateToProps = (state: RootState) => ({\n  user: state.user,\n});\n\nexport default connect(mapStateToProps)(DashboardView);\n","import { FC, useState, useEffect } from 'react';\nimport { Row, Col, Card, Tag } from 'antd';\nimport Highcharts from 'highcharts';\nimport axios, { AxiosResponse } from 'axios';\nimport { connect } from 'react-redux';\n\nimport './CompanyView.css';\nimport {\n  ChartTypes,\n  Page,\n  Company,\n  Reports,\n  ReportsData,\n  WithUserProps,\n  UserRole,\n} from '../../commons';\nimport {\n  getReportsFromData,\n  filterReportsDataBy,\n  openNotification,\n} from '../../utils';\nimport { SummaryView, CardWithChart } from '../../components';\nimport { resources, endPoints } from '../../services';\nimport { RootState } from '../../store';\n\nconst CompanyView: FC<WithUserProps> = ({ user }: WithUserProps) => {\n  const [currentGlobalChart, setCurrentGlobalChart] = useState(ChartTypes.BAR);\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  const [isLoadingReports, setIsLoadingReports] = useState(true);\n  const [isLoadingSummary, setIsLoadingSummary] = useState(true);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [pageSize] = useState(10);\n  const [pageData, setPageData] = useState<Record<string, Page<Company>>>({});\n  const [summaryData, setSummaryData] = useState<Reports>();\n  const [reportData, setReportData] = useState<Array<ReportsData>>([]);\n\n  const getPage = (page: number, size: number) => {\n    setIsLoadingPage(true);\n    if (!pageData[page]) {\n      axios\n        .request(endPoints.get(resources.COMPANIES, page - 1, size))\n        .then((response: AxiosResponse<Page<Company>>) => {\n          if (response && response.status === 200) {\n            setPageData({ ...pageData, [page]: response.data });\n            setCurrentPage(page);\n            setIsLoadingPage(false);\n          }\n        })\n        .catch(error => {\n          openNotification({ message: `${error}` }, 'error');\n          setIsLoadingPage(false);\n        });\n    } else {\n      setCurrentPage(page);\n      setIsLoadingPage(false);\n    }\n  };\n\n  const getSummary = () => {\n    setIsLoadingSummary(true);\n    axios\n      .request(endPoints.reports())\n      .then((response: AxiosResponse<Array<ReportsData>>) => {\n        if (response && response.status === 200) {\n          setSummaryData(getReportsFromData(response.data));\n          setIsLoadingSummary(false);\n        }\n      })\n      .catch(error => {\n        openNotification({ message: `${error}` }, 'error');\n        setIsLoadingSummary(false);\n      });\n  };\n\n  const getIndividualReports = () => {\n    setIsLoadingReports(true);\n    axios\n      .request(endPoints.reports(['status', 'company']))\n      .then((response: AxiosResponse<Array<ReportsData>>) => {\n        if (response && response.status === 200) {\n          setReportData(response.data);\n          setIsLoadingReports(false);\n        }\n      })\n      .catch(error => {\n        openNotification({ message: `${error}` }, 'error');\n        setIsLoadingReports(false);\n      });\n  };\n\n  const onChangePage = (page: number, size: number) => {\n    getPage(page, size);\n  };\n\n  const onChangeCurrentChart = (newChart: ChartTypes) => {\n    setCurrentGlobalChart(newChart);\n  };\n\n  useEffect(() => {\n    getPage(currentPage, pageSize);\n    getSummary();\n    getIndividualReports();\n  }, []); // eslint-disable-line\n\n  return (\n    <>\n      <SummaryView\n        name='Company'\n        summaryData={summaryData}\n        currentPage={currentPage}\n        pageSize={pageSize}\n        pageTotal={\n          pageData[currentPage] ? pageData[currentPage].total : undefined\n        }\n        isLoadingContent={isLoadingPage}\n        isLoadingSummary={isLoadingSummary}\n        onChangePage={onChangePage}\n        onChangeCurrentChart={onChangeCurrentChart}\n        addRoute={\n          user.role === UserRole.ADMIN ? '/challenge/companies/new' : ''\n        }\n      >\n        {pageData[currentPage]\n          ? pageData[currentPage].content.map(item => {\n              return (\n                <CardWithChart\n                  key={item.id}\n                  highcharts={Highcharts}\n                  isLoadingReports={isLoadingReports}\n                  editRoute={`/challenge/companies/${item.id}`}\n                  data={getReportsFromData(\n                    filterReportsDataBy(reportData, 'company', item.id),\n                  )}\n                  currentChart={currentGlobalChart}\n                >\n                  <Row>\n                    <Col span={20}>\n                      <Card.Meta title={item.name} description={item.cnpj} />\n                    </Col>\n                    <Col span={4}>\n                      <div className='text-end'>\n                        <Tag color={item.active ? 'success' : 'error'}>\n                          {item.active ? 'active' : 'inactive'}\n                        </Tag>\n                      </div>\n                    </Col>\n                  </Row>\n                </CardWithChart>\n              );\n            })\n          : null}\n      </SummaryView>\n    </>\n  );\n};\n\nconst mapStateToProps = (state: RootState) => ({\n  user: state.user,\n});\n\nexport default connect(mapStateToProps)(CompanyView);\n","import { FC, useState, useEffect } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport axios, { AxiosResponse } from 'axios';\nimport { Form, Input, Button, Switch, Row, Col, Space, Popconfirm } from 'antd';\nimport {\n  SaveOutlined,\n  StopOutlined,\n  CheckOutlined,\n  CloseOutlined,\n} from '@ant-design/icons';\n\nimport { resources, endPoints } from '../../services';\nimport { openNotification } from '../../utils';\nimport { BaseForm } from '../../components';\nimport { Company } from '../../commons';\n\nimport './CompanyForm.css';\n\ninterface RouteParams {\n  id: string;\n}\n\nconst CompanyForm: FC = () => {\n  const [form] = Form.useForm();\n  const history = useHistory();\n  const { id } = useParams<RouteParams>();\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSaving, setIsSaving] = useState(false);\n  const [isNew, setIsNew] = useState(false);\n  const [company, setCompany] = useState<Company>({\n    name: '',\n    description: '',\n    cnpj: '',\n    active: true,\n  });\n\n  useEffect(() => {\n    setIsLoading(true);\n    axios\n      .request(endPoints.get(resources.COMPANIES, undefined, undefined, id))\n      .then((response: AxiosResponse<Company>) => {\n        if (response && response.status === 200) {\n          const data = response.data;\n          if (data && Object.keys(data).length) {\n            setIsNew(false);\n            setCompany(response.data);\n            form.resetFields();\n          } else {\n            setIsNew(true);\n          }\n        }\n        setIsLoading(false);\n      })\n      .catch(() => {\n        setIsNew(true);\n        setIsLoading(false);\n      });\n  }, [form, id]);\n\n  const onGoBack = () => history.push('/challenge/companies');\n\n  const onDelete = () => {\n    axios\n      .request(endPoints.delete(resources.COMPANIES, id))\n      .then((response: AxiosResponse) => {\n        if (response && response.status === 200) {\n          setIsSaving(false);\n          openNotification(\n            { message: 'Company deleted!', duration: 5 },\n            'info',\n          );\n          onGoBack();\n        }\n      })\n      .catch(error => {\n        setIsSaving(false);\n        openNotification({ message: `${error}` }, 'error');\n      });\n  };\n\n  const onAddNew = (values: Record<string, string>) => {\n    setIsSaving(true);\n    axios\n      .request(endPoints.put(resources.COMPANIES, values))\n      .then((response: AxiosResponse) => {\n        if (response && response.status === 201) {\n          setIsSaving(false);\n          openNotification(\n            { message: 'Company Created!', duration: 5 },\n            'success',\n          );\n          onGoBack();\n        }\n      })\n      .catch(error => {\n        setIsSaving(false);\n        openNotification({ message: `${error}` }, 'error');\n      });\n  };\n\n  const onUpdate = (values: Record<string, string>) => {\n    setIsSaving(true);\n    axios\n      .request(endPoints.post(resources.COMPANIES, values, id))\n      .then((response: AxiosResponse) => {\n        if (response && response.status === 200) {\n          setIsSaving(false);\n          openNotification(\n            { message: 'Company Updated!', duration: 5 },\n            'success',\n          );\n          onGoBack();\n        }\n      })\n      .catch(error => {\n        setIsSaving(false);\n        openNotification({ message: `${error}` }, 'error');\n      });\n  };\n\n  return (\n    <>\n      <BaseForm\n        form={form}\n        name='Company'\n        isNew={isNew}\n        isLoading={isLoading}\n        onAddNew={onAddNew}\n        onUpdate={onUpdate}\n        onDelete={onDelete}\n        onGoBack={onGoBack}\n      >\n        <Row>\n          <Col span={12}>\n            <Form.Item\n              label='Name'\n              name='name'\n              initialValue={company.name}\n              rules={[\n                { required: true, message: 'Please input Company name!' },\n              ]}\n            >\n              <Input disabled={isSaving} />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Row>\n          <Col span={12}>\n            <Form.Item\n              label='Description'\n              name='description'\n              initialValue={company.description}\n              required={false}\n            >\n              <Input disabled={isSaving} />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Row>\n          <Col span={12}>\n            <Form.Item\n              label='CNPJ'\n              name='cnpj'\n              initialValue={company.cnpj}\n              rules={[\n                { required: true, message: 'Please input Company CNPJ!' },\n              ]}\n            >\n              <Input disabled={isSaving} />\n            </Form.Item>\n          </Col>\n          <Col span={12}>\n            <Form.Item\n              initialValue={company.active}\n              name='active'\n              label='Active'\n              valuePropName='checked'\n            >\n              <Switch\n                checkedChildren={<CheckOutlined />}\n                unCheckedChildren={<CloseOutlined />}\n              />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Form.Item shouldUpdate>\n          {() => (\n            <>\n              <Row justify='end'>\n                <Space>\n                  <Col>\n                    <Button\n                      type='primary'\n                      icon={<SaveOutlined />}\n                      htmlType='submit'\n                      loading={isSaving}\n                    >\n                      Save\n                    </Button>\n                  </Col>\n                  <Col>\n                    <Popconfirm\n                      placement='top'\n                      title={'Are you sure to cancel this?'}\n                      onConfirm={onGoBack}\n                      okText='Yes, cancel'\n                      cancelText='No'\n                    >\n                      <Button\n                        danger\n                        icon={<StopOutlined />}\n                        htmlType='button'\n                        loading={isSaving}\n                      >\n                        Cancel\n                      </Button>\n                    </Popconfirm>\n                  </Col>\n                </Space>\n              </Row>\n            </>\n          )}\n        </Form.Item>\n      </BaseForm>\n    </>\n  );\n};\n\nexport default CompanyForm;\n","import { FC, useState, useEffect } from 'react';\nimport { Row, Col, Card } from 'antd';\nimport Highcharts from 'highcharts';\nimport axios, { AxiosResponse } from 'axios';\nimport { connect } from 'react-redux';\n\nimport './UnitView.css';\nimport {\n  ChartTypes,\n  Page,\n  Unit,\n  Reports,\n  ReportsData,\n  WithUserProps,\n  UserRole,\n} from '../../commons';\nimport {\n  getReportsFromData,\n  filterReportsDataBy,\n  openNotification,\n} from '../../utils';\nimport { SummaryView, CardWithChart } from '../../components';\nimport { resources, endPoints } from '../../services';\nimport { RootState } from '../../store';\n\nconst UnitView: FC<WithUserProps> = ({ user }: WithUserProps) => {\n  const [currentGlobalChart, setCurrentGlobalChart] = useState(ChartTypes.BAR);\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  const [isLoadingReports, setIsLoadingReports] = useState(true);\n  const [isLoadingSummary, setIsLoadingSummary] = useState(true);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [pageSize] = useState(10);\n  const [pageData, setPageData] = useState<Record<number, Page<Unit>>>({});\n  const [summaryData, setSummaryData] = useState<Reports>();\n  const [reportData, setReportData] = useState<Array<ReportsData>>([]);\n\n  const getPage = (page: number, size: number) => {\n    setIsLoadingPage(true);\n    if (!pageData[page]) {\n      axios\n        .request(endPoints.get(resources.UNITS, page - 1, size))\n        .then((response: AxiosResponse<Page<Unit>>) => {\n          if (response && response.status === 200) {\n            setPageData({ ...pageData, [page]: response.data });\n            setCurrentPage(page);\n            setIsLoadingPage(false);\n          }\n        })\n        .catch(error => {\n          openNotification({ message: `${error}` }, 'error');\n          setIsLoadingPage(false);\n        });\n    } else {\n      setCurrentPage(page);\n      setIsLoadingPage(false);\n    }\n  };\n\n  const getSummary = () => {\n    setIsLoadingSummary(true);\n    axios\n      .request(endPoints.reports())\n      .then((response: AxiosResponse<Array<ReportsData>>) => {\n        if (response && response.status === 200) {\n          setSummaryData(getReportsFromData(response.data));\n          setIsLoadingSummary(false);\n        }\n      })\n      .catch(error => {\n        openNotification({ message: `${error}` }, 'error');\n        setIsLoadingSummary(false);\n      });\n  };\n\n  const getIndividualReports = () => {\n    setIsLoadingReports(true);\n    axios\n      .request(endPoints.reports(['status', 'unit']))\n      .then((response: AxiosResponse<Array<ReportsData>>) => {\n        if (response && response.status === 200) {\n          setReportData(response.data);\n          setIsLoadingReports(false);\n        }\n      })\n      .catch(error => {\n        openNotification({ message: `${error}` }, 'error');\n        setIsLoadingReports(false);\n      });\n  };\n\n  const onChangePage = (page: number, size: number) => {\n    getPage(page, size);\n  };\n\n  const onChangeCurrentChart = (newChart: ChartTypes) => {\n    setCurrentGlobalChart(newChart);\n  };\n\n  useEffect(() => {\n    getPage(currentPage, pageSize);\n    getSummary();\n    getIndividualReports();\n  }, []); //eslint-disable-line\n\n  return (\n    <>\n      <SummaryView\n        name='Unit'\n        summaryData={summaryData}\n        currentPage={currentPage}\n        pageSize={pageSize}\n        pageTotal={\n          pageData[currentPage] ? pageData[currentPage].total : undefined\n        }\n        isLoadingContent={isLoadingPage}\n        isLoadingSummary={isLoadingSummary}\n        onChangePage={onChangePage}\n        onChangeCurrentChart={onChangeCurrentChart}\n        addRoute={user.role === UserRole.EMPLOYEE ? '' : '/challenge/units/new'}\n      >\n        {pageData[currentPage]\n          ? pageData[currentPage].content.map(item => {\n              return (\n                <CardWithChart\n                  key={item.id}\n                  highcharts={Highcharts}\n                  isLoadingReports={isLoadingReports}\n                  editRoute={\n                    user.role === UserRole.EMPLOYEE\n                      ? ''\n                      : `/challenge/units/${item.id}`\n                  }\n                  data={getReportsFromData(\n                    filterReportsDataBy(reportData, 'unit', item.id),\n                  )}\n                  currentChart={currentGlobalChart}\n                >\n                  <Row justify='center'>\n                    <Col span={20}>\n                      <Card.Meta\n                        title={item.name}\n                        description={`From company ${item.company}`}\n                      />\n                    </Col>\n                  </Row>\n                </CardWithChart>\n              );\n            })\n          : null}\n      </SummaryView>\n    </>\n  );\n};\n\nconst mapStateToProps = (state: RootState) => ({\n  user: state.user,\n});\n\nexport default connect(mapStateToProps)(UnitView);\n","import { FC, useState, useEffect } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport axios, { AxiosResponse } from 'axios';\nimport { Form, Input, Button, Row, Col, Space, Popconfirm } from 'antd';\nimport { SaveOutlined, StopOutlined } from '@ant-design/icons';\nimport { connect } from 'react-redux';\n\nimport { resources, endPoints } from '../../services';\nimport { openNotification } from '../../utils';\nimport { BaseForm } from '../../components';\nimport { Unit, WithUserProps, UserRole } from '../../commons';\nimport { RootState } from '../../store';\n\nimport './UnitForm.css';\n\ninterface RouteParams {\n  id: string;\n}\n\nconst UnitForm: FC<WithUserProps> = ({ user }: WithUserProps) => {\n  const [form] = Form.useForm();\n  const history = useHistory();\n  const { id } = useParams<RouteParams>();\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSaving, setIsSaving] = useState(false);\n  const [isNew, setIsNew] = useState(false);\n  const [unit, setUnit] = useState<Unit>({\n    name: '',\n    company: user.role === UserRole.ADMIN ? undefined : user.company,\n  });\n\n  useEffect(() => {\n    setIsLoading(true);\n    axios\n      .request(endPoints.get(resources.UNITS, undefined, undefined, id))\n      .then((response: AxiosResponse<Unit>) => {\n        if (response && response.status === 200) {\n          const data = response.data;\n          if (data && Object.keys(data).length) {\n            setIsNew(false);\n            setUnit(response.data);\n            form.resetFields();\n          } else {\n            setIsNew(true);\n          }\n        }\n        setIsLoading(false);\n      })\n      .catch(() => {\n        setIsNew(true);\n        setIsLoading(false);\n      });\n  }, [form, id]);\n\n  const onGoBack = () => history.push('/challenge/units');\n\n  const onDelete = () => {\n    axios\n      .request(endPoints.delete(resources.UNITS, id))\n      .then((response: AxiosResponse) => {\n        if (response && response.status === 200) {\n          setIsSaving(false);\n          openNotification({ message: 'Unit deleted!', duration: 5 }, 'info');\n          onGoBack();\n        }\n      })\n      .catch(error => {\n        setIsSaving(false);\n        openNotification({ message: `${error}` }, 'error');\n      });\n  };\n\n  const onAddNew = (values: Record<string, string>) => {\n    setIsSaving(true);\n    axios\n      .request(endPoints.put(resources.UNITS, values))\n      .then((response: AxiosResponse) => {\n        if (response && response.status === 201) {\n          setIsSaving(false);\n          openNotification(\n            { message: 'Unit Created!', duration: 5 },\n            'success',\n          );\n          onGoBack();\n        }\n      })\n      .catch(error => {\n        setIsSaving(false);\n        openNotification({ message: `${error}` }, 'error');\n      });\n  };\n\n  const onUpdate = (values: Record<string, string>) => {\n    setIsSaving(true);\n    axios\n      .request(endPoints.post(resources.UNITS, values, id))\n      .then((response: AxiosResponse) => {\n        if (response && response.status === 200) {\n          setIsSaving(false);\n          openNotification(\n            { message: 'Unit Updated!', duration: 5 },\n            'success',\n          );\n          onGoBack();\n        }\n      })\n      .catch(error => {\n        setIsSaving(false);\n        openNotification({ message: `${error}` }, 'error');\n      });\n  };\n\n  return (\n    <>\n      <BaseForm\n        form={form}\n        name='Unit'\n        isNew={isNew}\n        isLoading={isLoading}\n        onAddNew={onAddNew}\n        onUpdate={onUpdate}\n        onDelete={onDelete}\n        onGoBack={onGoBack}\n      >\n        <Row>\n          <Col span={12}>\n            <Form.Item\n              label='Name'\n              name='name'\n              initialValue={unit.name}\n              rules={[{ required: true, message: 'Please input Unit name!' }]}\n            >\n              <Input disabled={isSaving} />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Row>\n          <Col span={12}>\n            <Form.Item\n              label='Company'\n              name='company'\n              initialValue={unit.company}\n              rules={[\n                {\n                  required: true,\n                  type: 'number',\n                  min: 0,\n                  message: 'Please input Unit Company!',\n                },\n              ]}\n            >\n              <Input\n                type='number'\n                min={1}\n                disabled={isSaving || user.role !== UserRole.ADMIN}\n              />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Form.Item shouldUpdate>\n          {() => (\n            <>\n              <Row justify='end'>\n                <Space>\n                  <Col>\n                    <Button\n                      type='primary'\n                      icon={<SaveOutlined />}\n                      htmlType='submit'\n                      loading={isSaving}\n                    >\n                      Save\n                    </Button>\n                  </Col>\n                  <Col>\n                    <Popconfirm\n                      placement='top'\n                      title={'Are you sure to cancel this?'}\n                      onConfirm={onGoBack}\n                      okText='Yes, cancel'\n                      cancelText='No'\n                    >\n                      <Button\n                        danger\n                        icon={<StopOutlined />}\n                        htmlType='button'\n                        loading={isSaving}\n                      >\n                        Cancel\n                      </Button>\n                    </Popconfirm>\n                  </Col>\n                </Space>\n              </Row>\n            </>\n          )}\n        </Form.Item>\n      </BaseForm>\n    </>\n  );\n};\n\nconst mapStateToProps = (state: RootState) => ({\n  user: state.user,\n});\n\nexport default connect(mapStateToProps)(UnitForm);\n","import { FC, useState, useEffect } from 'react';\nimport { Card, Avatar, Badge } from 'antd';\nimport axios, { AxiosResponse } from 'axios';\nimport { connect } from 'react-redux';\n\nimport './UserView.css';\nimport { Page, User, WithUserProps, UserRole } from '../../commons';\nimport { SummaryView, CardWithChart } from '../../components';\nimport { resources, endPoints } from '../../services';\nimport { openNotification } from '../../utils';\nimport { RootState } from '../../store';\n\nconst UserView: FC<WithUserProps> = ({ user }: WithUserProps) => {\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [pageSize] = useState(20);\n  const [pageData, setPageData] = useState<Record<string, Page<User>>>({});\n\n  const getPage = (page: number, size: number) => {\n    setIsLoadingPage(true);\n    if (!pageData[page]) {\n      axios\n        .request(endPoints.get(resources.USERS, page - 1, size))\n        .then((response: AxiosResponse<Page<User>>) => {\n          if (response && response.status === 200) {\n            setPageData({ ...pageData, [page]: response.data });\n            setCurrentPage(page);\n            setIsLoadingPage(false);\n          }\n        })\n        .catch(error => {\n          openNotification({ message: `${error}` }, 'error');\n          setIsLoadingPage(false);\n        });\n    } else {\n      setCurrentPage(page);\n      setIsLoadingPage(false);\n    }\n  };\n\n  const onChangePage = (page: number, size: number) => {\n    getPage(page, size);\n  };\n\n  const getTagColor = {\n    admin: 'purple',\n    manager: 'blue',\n    employee: 'green',\n  };\n\n  useEffect(() => {\n    getPage(currentPage, pageSize);\n  }, []); //eslint-disable-line\n\n  return (\n    <>\n      <SummaryView\n        name='User'\n        showSummaryChart={false}\n        showChartSelectors={false}\n        currentPage={currentPage}\n        pageSize={pageSize}\n        pageTotal={\n          pageData[currentPage] ? pageData[currentPage].total : undefined\n        }\n        isLoadingContent={isLoadingPage}\n        onChangePage={onChangePage}\n        addRoute={user.role === UserRole.EMPLOYEE ? '' : '/challenge/users/new'}\n      >\n        {pageData[currentPage]\n          ? pageData[currentPage].content.map(item => {\n              return (\n                <Badge.Ribbon\n                  color={\n                    getTagColor[item.role] ? getTagColor[item.role] : 'red'\n                  }\n                  key={item.id}\n                  text={item.role}\n                >\n                  <CardWithChart\n                    style={{ margin: 0 }}\n                    showChart={false}\n                    editRoute={\n                      user.role === UserRole.EMPLOYEE\n                        ? ''\n                        : `/challenge/users/${item.id}`\n                    }\n                  >\n                    <Card.Meta\n                      avatar={\n                        <Avatar>\n                          {item.name.substring(0, 2).toUpperCase()}\n                        </Avatar>\n                      }\n                      title={item.name}\n                      description={item.username}\n                    />\n                  </CardWithChart>\n                </Badge.Ribbon>\n              );\n            })\n          : null}\n      </SummaryView>\n    </>\n  );\n};\n\nconst mapStateToProps = (state: RootState) => ({\n  user: state.user,\n});\n\nexport default connect(mapStateToProps)(UserView);\n","import { FC, useState, useEffect } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport axios, { AxiosResponse } from 'axios';\nimport { Form, Input, Button, Select, Row, Col, Space, Popconfirm } from 'antd';\nimport { SaveOutlined, StopOutlined } from '@ant-design/icons';\nimport { connect } from 'react-redux';\n\nimport { resources, endPoints } from '../../services';\nimport { openNotification } from '../../utils';\nimport { BaseForm } from '../../components';\nimport { User, UserRole, WithUserProps } from '../../commons';\nimport { RootState } from '../../store';\n\nimport './UserForm.css';\n\ninterface RouteParams {\n  id: string;\n}\n\nconst UserForm: FC<WithUserProps> = (props: WithUserProps) => {\n  const [form] = Form.useForm();\n  const history = useHistory();\n  const { id } = useParams<RouteParams>();\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSaving, setIsSaving] = useState(false);\n  const [isNew, setIsNew] = useState(false);\n  const [user, setUser] = useState<User>({\n    name: '',\n    username: '',\n    email: '',\n    role: UserRole.EMPLOYEE,\n    company:\n      props.user.role === UserRole.ADMIN ? undefined : props.user.company,\n  });\n\n  useEffect(() => {\n    setIsLoading(true);\n    axios\n      .request(endPoints.get(resources.USERS, undefined, undefined, id))\n      .then((response: AxiosResponse<User>) => {\n        if (response && response.status === 200) {\n          const data = response.data;\n          if (data && Object.keys(data).length) {\n            setIsNew(false);\n            setUser(response.data);\n            form.resetFields();\n          } else {\n            setIsNew(true);\n          }\n        }\n        setIsLoading(false);\n      })\n      .catch(() => {\n        setIsNew(true);\n        setIsLoading(false);\n      });\n  }, [form, id]);\n\n  const onGoBack = () => history.push('/challenge/users');\n\n  const onDelete = () => {\n    axios\n      .request(endPoints.delete(resources.USERS, id))\n      .then((response: AxiosResponse) => {\n        if (response && response.status === 200) {\n          setIsSaving(false);\n          openNotification({ message: 'User deleted!', duration: 5 }, 'info');\n          onGoBack();\n        }\n      })\n      .catch(error => {\n        setIsSaving(false);\n        openNotification({ message: `${error}` }, 'error');\n      });\n  };\n\n  const onAddNew = (values: Record<string, string>) => {\n    setIsSaving(true);\n    axios\n      .request(endPoints.put(resources.USERS, values))\n      .then((response: AxiosResponse) => {\n        if (response && response.status === 201) {\n          setIsSaving(false);\n          openNotification(\n            { message: 'User Created!', duration: 5 },\n            'success',\n          );\n          onGoBack();\n        }\n      })\n      .catch(error => {\n        setIsSaving(false);\n        openNotification({ message: `${error}` }, 'error');\n      });\n  };\n\n  const onUpdate = (values: Record<string, string>) => {\n    setIsSaving(true);\n    axios\n      .request(endPoints.post(resources.USERS, values, id))\n      .then((response: AxiosResponse) => {\n        if (response && response.status === 200) {\n          setIsSaving(false);\n          openNotification(\n            { message: 'User Updated!', duration: 5 },\n            'success',\n          );\n          onGoBack();\n        }\n      })\n      .catch(error => {\n        setIsSaving(false);\n        openNotification({ message: `${error}` }, 'error');\n      });\n  };\n\n  return (\n    <>\n      <BaseForm\n        form={form}\n        name='User'\n        isNew={isNew}\n        isLoading={isLoading}\n        onAddNew={onAddNew}\n        onUpdate={onUpdate}\n        onDelete={onDelete}\n        onGoBack={onGoBack}\n      >\n        <Row>\n          <Col span={12}>\n            <Form.Item\n              label='Name'\n              name='name'\n              initialValue={user.name}\n              rules={[{ required: true, message: 'Please input User name!' }]}\n            >\n              <Input disabled={isSaving} />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Row>\n          <Col span={12}>\n            <Form.Item\n              label='E-mail'\n              name='email'\n              initialValue={user.username}\n              rules={[\n                {\n                  required: true,\n                  type: 'email',\n                  message: 'Please input valid User E-mail!',\n                },\n              ]}\n            >\n              <Input disabled={isSaving} />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Row>\n          <Col span={12}>\n            <Form.Item\n              initialValue={user.role}\n              name='role'\n              label='Role'\n              rules={[{ required: true, message: 'Please select User role!' }]}\n            >\n              <Select value={user.role} disabled={isSaving}>\n                {props.user.role === UserRole.ADMIN && (\n                  <Select.Option value={UserRole.ADMIN}>Admin</Select.Option>\n                )}\n                <Select.Option value={UserRole.MANAGER}>Manager</Select.Option>\n                <Select.Option value={UserRole.EMPLOYEE}>\n                  Employee\n                </Select.Option>\n              </Select>\n            </Form.Item>\n          </Col>\n        </Row>\n        <Row>\n          <Col span={12}>\n            <Form.Item\n              label='Username'\n              name='username'\n              initialValue={user.username}\n              rules={[\n                { required: true, message: 'Please input User username!' },\n              ]}\n            >\n              <Input disabled={isSaving} />\n            </Form.Item>\n          </Col>\n        </Row>\n        {isNew && (\n          <Row>\n            <Col span={12}>\n              <Form.Item\n                label='Password'\n                name='password'\n                initialValue={user.password}\n                rules={[\n                  { required: true, message: 'Please input User password!' },\n                ]}\n              >\n                <Input.Password disabled={isSaving} />\n              </Form.Item>\n            </Col>\n          </Row>\n        )}\n        <Row>\n          <Col span={12}>\n            <Form.Item\n              label='Company'\n              name='company'\n              initialValue={user.company}\n              required={false}\n            >\n              <Input\n                type='number'\n                min={1}\n                disabled={isSaving || props.user.role !== UserRole.ADMIN}\n              />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Form.Item shouldUpdate>\n          {() => (\n            <>\n              <Row justify='end'>\n                <Space>\n                  <Col>\n                    <Button\n                      type='primary'\n                      icon={<SaveOutlined />}\n                      htmlType='submit'\n                      loading={isSaving}\n                    >\n                      Save\n                    </Button>\n                  </Col>\n                  <Col>\n                    <Popconfirm\n                      placement='top'\n                      title={'Are you sure to cancel this?'}\n                      onConfirm={onGoBack}\n                      okText='Yes, cancel'\n                      cancelText='No'\n                    >\n                      <Button\n                        danger\n                        icon={<StopOutlined />}\n                        htmlType='button'\n                        loading={isSaving}\n                      >\n                        Cancel\n                      </Button>\n                    </Popconfirm>\n                  </Col>\n                </Space>\n              </Row>\n            </>\n          )}\n        </Form.Item>\n      </BaseForm>\n    </>\n  );\n};\n\nconst mapStateToProps = (state: RootState) => ({\n  user: state.user,\n});\n\nexport default connect(mapStateToProps)(UserForm);\n","import { FC, useState, useEffect } from 'react';\nimport { Row, Col, Card, Tag, Avatar, Image } from 'antd';\nimport Highcharts from 'highcharts';\nimport axios, { AxiosResponse } from 'axios';\nimport { connect } from 'react-redux';\n\nimport './AssetView.css';\nimport {\n  Page,\n  Asset,\n  Reports,\n  UserRole,\n  ReportsData,\n  WithUserProps,\n} from '../../commons';\nimport { getReportsFromData, openNotification } from '../../utils';\nimport { SummaryView, CardWithChart } from '../../components';\nimport { resources, endPoints } from '../../services';\nimport { RootState } from '../../store';\n\nconst AssetView: FC<WithUserProps> = ({ user }: WithUserProps) => {\n  const [isLoadingPage, setIsLoadingPage] = useState(true);\n  const [isLoadingSummary, setIsLoadingSummary] = useState(true);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [pageSize] = useState(10);\n  const [pageData, setPageData] = useState<Record<string, Page<Asset>>>({});\n  const [summaryData, setSummaryData] = useState<Reports>();\n\n  const getPage = (page: number, size: number) => {\n    setIsLoadingPage(true);\n    if (!pageData[page]) {\n      axios\n        .request(endPoints.get(resources.ASSETS, page - 1, size))\n        .then((response: AxiosResponse<Page<Asset>>) => {\n          if (response && response.status === 200) {\n            setPageData({ ...pageData, [page]: response.data });\n            setCurrentPage(page);\n            setIsLoadingPage(false);\n          }\n        })\n        .catch(error => {\n          openNotification({ message: `${error}` }, 'error');\n          setIsLoadingPage(false);\n        });\n    } else {\n      setCurrentPage(page);\n      setIsLoadingPage(false);\n    }\n  };\n\n  const getSummary = () => {\n    setIsLoadingSummary(true);\n    axios\n      .request(endPoints.reports())\n      .then((response: AxiosResponse<Array<ReportsData>>) => {\n        if (response && response.status === 200) {\n          setSummaryData(getReportsFromData(response.data));\n          setIsLoadingSummary(false);\n        }\n      })\n      .catch(error => {\n        openNotification({ message: `${error}` }, 'error');\n        setIsLoadingSummary(false);\n      });\n  };\n\n  const onChangePage = (page: number, size: number) => {\n    getPage(page, size);\n  };\n\n  const getTagText = {\n    inOperation: 'In Operation',\n    inAlert: 'In Alert',\n    inDowntime: 'In Downtime',\n  };\n\n  const getTagColor = {\n    inOperation: 'green',\n    inAlert: 'volcano',\n    inDowntime: 'blue',\n  };\n\n  useEffect(() => {\n    getPage(currentPage, pageSize);\n    getSummary();\n  }, []); //eslint-disable-line\n\n  return (\n    <>\n      <SummaryView\n        name='Asset'\n        summaryData={summaryData}\n        currentPage={currentPage}\n        pageSize={pageSize}\n        pageTotal={\n          pageData[currentPage] ? pageData[currentPage].total : undefined\n        }\n        isLoadingContent={isLoadingPage}\n        isLoadingSummary={isLoadingSummary}\n        onChangePage={onChangePage}\n        showChartSelectors={false}\n        addRoute={\n          user.role === UserRole.EMPLOYEE ? '' : '/challenge/assets/new'\n        }\n      >\n        {pageData[currentPage]\n          ? pageData[currentPage].content.map(item => {\n              return (\n                <CardWithChart\n                  key={item.id}\n                  highcharts={Highcharts}\n                  healthChart={true}\n                  editRoute={`/challenge/assets/${item.id}`}\n                  data={item.healthscore}\n                >\n                  <Row>\n                    <Col span={16}>\n                      <Card.Meta\n                        avatar={<Avatar src={<Image src={item.image} />} />}\n                        title={item.name}\n                        description={`S/N: ${item.serialnumber}`}\n                      />\n                    </Col>\n                    <Col span={8}>\n                      <div className='text-end'>\n                        <Tag\n                          color={\n                            getTagColor[item.status]\n                              ? getTagColor[item.status]\n                              : 'red'\n                          }\n                        >\n                          {getTagText[item.status]}\n                        </Tag>\n                      </div>\n                    </Col>\n                  </Row>\n                </CardWithChart>\n              );\n            })\n          : null}\n      </SummaryView>\n    </>\n  );\n};\n\nconst mapStateToProps = (state: RootState) => ({\n  user: state.user,\n});\n\nexport default connect(mapStateToProps)(AssetView);\n","import { FC, useState, useEffect } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport axios, { AxiosResponse } from 'axios';\nimport {\n  Form,\n  Input,\n  Button,\n  Row,\n  Col,\n  Space,\n  Popconfirm,\n  Radio,\n  Slider,\n  Upload,\n  Image,\n  Tooltip,\n  message,\n} from 'antd';\nimport {\n  SaveOutlined,\n  StopOutlined,\n  UploadOutlined,\n  CloseCircleOutlined,\n} from '@ant-design/icons';\nimport ImgCrop from 'antd-img-crop';\nimport { connect } from 'react-redux';\n\nimport { RootState } from '../../store';\nimport { BaseForm } from '../../components';\nimport { resources, endPoints } from '../../services';\nimport { openNotification, placeHolderImg } from '../../utils';\nimport { Asset, AssetStatus, WithUserProps, UserRole } from '../../commons';\nimport './AssetForm.css';\n\ninterface RouteParams {\n  id: string;\n}\n\nconst AssetForm: FC<WithUserProps> = ({ user }: WithUserProps) => {\n  const [form] = Form.useForm();\n  const history = useHistory();\n  const { id } = useParams<RouteParams>();\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSaving, setIsSaving] = useState(false);\n  const [isNew, setIsNew] = useState(false);\n  const [imageBase64, setImageBase64] = useState('');\n  const [asset, setAsset] = useState<Asset>({\n    name: '',\n    healthscore: 50,\n    image: '',\n    serialnumber: '',\n    status: AssetStatus.IN_DOWNTIME,\n    user: undefined,\n    unit: undefined,\n    company: user.role === UserRole.ADMIN ? undefined : user.company,\n  });\n\n  const handleUpload = (file: File) => {\n    const isLessthan5M = file.size / 1024 / 1024 < 5;\n    if (!isLessthan5M) {\n      message.error('Image must be smaller than 5MB!', 10);\n    } else {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = function () {\n        setImageBase64(reader.result.toString());\n      };\n      reader.onerror = function (error) {\n        console.log('Error: ', error);\n        message.error(`Error processing image: ${error}`, 15);\n      };\n    }\n    return false;\n  };\n\n  useEffect(() => {\n    setIsLoading(true);\n    axios\n      .request(endPoints.get(resources.ASSETS, undefined, undefined, id))\n      .then((response: AxiosResponse<Asset>) => {\n        if (response && response.status === 200) {\n          const data = response.data;\n          if (data && Object.keys(data).length) {\n            setIsNew(false);\n            setAsset(response.data);\n            setImageBase64(response.data.image);\n            form.resetFields();\n          } else {\n            setIsNew(true);\n          }\n        }\n        setIsLoading(false);\n      })\n      .catch(() => {\n        setIsNew(true);\n        setIsLoading(false);\n      });\n  }, []); // eslint-disable-line\n\n  const onGoBack = () => history.push('/challenge/assets');\n\n  const onDelete = () => {\n    axios\n      .request(endPoints.delete(resources.ASSETS, id))\n      .then((response: AxiosResponse) => {\n        if (response && response.status === 200) {\n          setIsSaving(false);\n          openNotification({ message: 'Asset deleted!', duration: 5 }, 'info');\n          onGoBack();\n        }\n      })\n      .catch(error => {\n        setIsSaving(false);\n        openNotification({ message: `${error}` }, 'error');\n      });\n  };\n\n  const onAddNew = (values: Record<string, string>) => {\n    const newAsset = { ...values, image: imageBase64 };\n    setIsSaving(true);\n    axios\n      .request(endPoints.put(resources.ASSETS, newAsset))\n      .then((response: AxiosResponse) => {\n        if (response && response.status === 201) {\n          setIsSaving(false);\n          openNotification(\n            { message: 'Asset Created!', duration: 5 },\n            'success',\n          );\n          onGoBack();\n        }\n      })\n      .catch(error => {\n        setIsSaving(false);\n        openNotification({ message: `${error}` }, 'error');\n      });\n  };\n\n  const onUpdate = (values: Record<string, string>) => {\n    setIsSaving(true);\n    // Is necessary explits image this way because\n    // virtual field \"image\", on the typegoose model\n    // on the back-end isn't working properly\n    const splited = imageBase64.split(',');\n    const newAsset = {\n      ...values,\n      image: '',\n      imageType: splited.length ? splited[0] : '',\n      imageBuffer: splited.length ? splited[1] : '',\n    };\n    axios\n      .request(endPoints.post(resources.ASSETS, newAsset, id))\n      .then((response: AxiosResponse) => {\n        if (response && response.status === 200) {\n          setIsSaving(false);\n          openNotification(\n            { message: 'Asset Updated!', duration: 5 },\n            'success',\n          );\n          onGoBack();\n        } else {\n          setIsSaving(false);\n          openNotification(\n            { message: 'Unable to make request to server' },\n            'error',\n          );\n        }\n      })\n      .catch(error => {\n        setIsSaving(false);\n        openNotification({ message: `${error}` }, 'error');\n      });\n  };\n\n  return (\n    <>\n      <BaseForm\n        form={form}\n        name='Asset'\n        isNew={isNew}\n        isLoading={isLoading}\n        onAddNew={onAddNew}\n        onUpdate={onUpdate}\n        onDelete={user.role === UserRole.EMPLOYEE ? undefined : onDelete}\n        onGoBack={onGoBack}\n      >\n        <Row>\n          <Col span={12}>\n            <Form.Item\n              label='Name'\n              name='name'\n              initialValue={asset.name}\n              rules={[{ required: true, message: 'Please input Asset name!' }]}\n            >\n              <Input disabled={isSaving || user.role === UserRole.EMPLOYEE} />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Row>\n          <Col span={12}>\n            <Form.Item\n              label='Serial Number'\n              name='serialnumber'\n              initialValue={asset.serialnumber}\n              required={false}\n            >\n              <Input disabled={isSaving || user.role === UserRole.EMPLOYEE} />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Row>\n          <Col span={12}>\n            <Form.Item\n              label='Company'\n              name='company'\n              initialValue={asset.company}\n              required={false}\n            >\n              <Input\n                type='number'\n                min={1}\n                disabled={isSaving || user.role !== UserRole.ADMIN}\n              />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Row>\n          <Col span={12}>\n            <Form.Item\n              label='Unit'\n              name='unit'\n              initialValue={asset.unit}\n              required={false}\n            >\n              <Input\n                type='number'\n                min={1}\n                disabled={isSaving || user.role === UserRole.EMPLOYEE}\n              />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Row>\n          <Col span={12}>\n            <Form.Item\n              label='Responsible'\n              name='user'\n              initialValue={asset.user}\n              required={false}\n            >\n              <Input\n                type='number'\n                min={1}\n                disabled={isSaving || user.role === UserRole.EMPLOYEE}\n              />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Row>\n          <Col span={12}>\n            <Form.Item\n              initialValue={asset.healthscore}\n              label='Health'\n              name='healthscore'\n            >\n              <Slider\n                min={0}\n                max={100}\n                step={0.05}\n                tipFormatter={value => `${value}%`}\n              />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Row>\n          <Col span={12}>\n            <Form.Item\n              label='Status'\n              name='status'\n              initialValue={asset.status}\n              rules={[{ required: true, message: 'Please select a Status!' }]}\n            >\n              <Radio.Group>\n                <Radio.Button value={AssetStatus.IN_OPERATION}>\n                  In Operation\n                </Radio.Button>\n                <Radio.Button value={AssetStatus.IN_ALERT}>\n                  In Alert\n                </Radio.Button>\n                <Radio.Button value={AssetStatus.IN_DOWNTIME}>\n                  In Downtime\n                </Radio.Button>\n              </Radio.Group>\n            </Form.Item>\n          </Col>\n        </Row>\n        <Row>\n          <Col span={12}>\n            <Form.Item label='Image' name='image' extra='Max. 5 MB'>\n              <Space align='start'>\n                <ImgCrop rotate>\n                  <Upload\n                    accept='image/png, image/jpg, image/jpeg'\n                    maxCount={1}\n                    showUploadList={false}\n                    beforeUpload={handleUpload}\n                    customRequest={({ onSuccess }) => {\n                      onSuccess('ok', undefined);\n                    }}\n                  >\n                    <Button icon={<UploadOutlined />}>Upload</Button>\n                  </Upload>\n                </ImgCrop>\n                <Image\n                  width='200px'\n                  src={imageBase64}\n                  fallback={placeHolderImg}\n                />\n                {imageBase64 && (\n                  <Tooltip placement='right' title='Remove image'>\n                    <CloseCircleOutlined onClick={() => setImageBase64('')} />\n                  </Tooltip>\n                )}\n              </Space>\n            </Form.Item>\n          </Col>\n        </Row>\n        <Form.Item shouldUpdate>\n          {() => (\n            <>\n              <Row justify='end'>\n                <Space>\n                  <Col>\n                    <Button\n                      type='primary'\n                      icon={<SaveOutlined />}\n                      htmlType='submit'\n                      loading={isSaving}\n                    >\n                      Save\n                    </Button>\n                  </Col>\n                  <Col>\n                    <Popconfirm\n                      placement='top'\n                      title={'Are you sure to cancel this?'}\n                      onConfirm={onGoBack}\n                      okText='Yes, cancel'\n                      cancelText='No'\n                    >\n                      <Button\n                        danger\n                        icon={<StopOutlined />}\n                        htmlType='button'\n                        loading={isSaving}\n                      >\n                        Cancel\n                      </Button>\n                    </Popconfirm>\n                  </Col>\n                </Space>\n              </Row>\n            </>\n          )}\n        </Form.Item>\n      </BaseForm>\n    </>\n  );\n};\n\nconst mapStateToProps = (state: RootState) => ({\n  user: state.user,\n});\n\nexport default connect(mapStateToProps)(AssetForm);\n","import { FC, useEffect } from 'react';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Redirect,\n  Switch,\n} from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport { WithUserProps } from './commons';\nimport { axiosSetup } from './utils';\nimport { RootState } from './store';\nimport { checkAuthentication } from './redux/userRedux';\nimport { Layout, Login } from './containers';\nimport { SecurityRoute } from './components';\nimport './App.css';\n\naxiosSetup('https://challenge-application.herokuapp.com');\n\ninterface AppProps extends WithUserProps {\n  checkAuthenticationConnect: () => void;\n}\n\nconst App: FC<AppProps> = ({ user, checkAuthenticationConnect }: AppProps) => {\n  useEffect(() => {\n    checkAuthenticationConnect();\n  }, []); // eslint-disable-line\n\n  const app = user && user.token !== undefined && (\n    <Router>\n      <Switch>\n        <Route\n          exact\n          path='/'\n          render={() => <Redirect to='/challenge/dashboard' push={true} />}\n        />\n        <Route path='/login' component={Login} />\n        <SecurityRoute path='/challenge' component={Layout} />\n        <Route path='*' render={() => <Redirect to='/login' push={true} />} />\n      </Switch>\n    </Router>\n  );\n\n  return <div className='App'>{app}</div>;\n};\n\nconst mapStateToProps = (state: RootState) => ({\n  user: state.user,\n});\n\nconst mapDispatchToProps = {\n  checkAuthenticationConnect: checkAuthentication,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport store from './store';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}